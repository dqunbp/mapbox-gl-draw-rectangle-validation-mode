parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"GXB6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,o){var t={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},n={on:function(e,o,n){if(void 0===t[e])throw new Error("Invalid event type: ".concat(e));t[e].push({selector:o,fn:n})},render:function(e){o.store.featureChanged(e)}},u=function(e,u){for(var r=t[e],c=r.length;c--;){var s=r[c];if(s.selector(u)){s.fn.call(n,u),o.store.render(),o.ui.updateMapClasses();break}}};return e.start.call(n),{render:e.render,stop:function(){e.stop&&e.stop()},trash:function(){e.trash&&(e.trash(),o.store.render())},combineFeatures:function(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures:function(){e.uncombineFeatures&&e.uncombineFeatures()},drag:function(e){u("drag",e)},click:function(e){u("click",e)},mousemove:function(e){u("mousemove",e)},mousedown:function(e){u("mousedown",e)},mouseup:function(e){u("mouseup",e)},mouseout:function(e){u("mouseout",e)},keydown:function(e){u("keydown",e)},keyup:function(e){u("keyup",e)},touchstart:function(e){u("touchstart",e)},touchmove:function(e){u("touchmove",e)},touchend:function(e){u("touchend",e)},tap:function(e){u("tap",e)}}},o=e;exports.default=o;
},{}],"DULi":[function(require,module,exports) {
module.exports.RADIUS=6378137,module.exports.FLATTENING=1/298.257223563,module.exports.POLAR_RADIUS=6356752.3142;
},{}],"JHOX":[function(require,module,exports) {
var e=require("wgs84");function t(e){var n,o=0;switch(e.type){case"Polygon":return r(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)o+=r(e.coordinates[n]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)o+=t(e.geometries[n]);return o}}function r(e){var t=0;if(e&&e.length>0){t+=Math.abs(n(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(n(e[r]))}return t}function n(t){var r,n,i,a,s,u,c=0,g=t.length;if(g>2){for(u=0;u<g;u++)u===g-2?(i=g-2,a=g-1,s=0):u===g-1?(i=g-1,a=0,s=1):(i=u,a=u+1,s=u+2),r=t[i],n=t[a],c+=(o(t[s][0])-o(r[0]))*Math.sin(o(n[1]));c=c*e.RADIUS*e.RADIUS/2}return c}function o(e){return e*Math.PI/180}module.exports.geometry=t,module.exports.ring=n;
},{"wgs84":"DULi"}],"N5Pn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LNG_MAX=exports.LNG_MIN=exports.LAT_RENDERED_MAX=exports.LAT_MAX=exports.LAT_RENDERED_MIN=exports.LAT_MIN=exports.interactions=exports.activeStates=exports.meta=exports.updateActions=exports.events=exports.modes=exports.geojsonTypes=exports.types=exports.cursors=exports.sources=exports.classes=void 0;var e={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"};exports.classes=e;var o={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"};exports.sources=o;var r={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"};exports.cursors=r;var t={POLYGON:"polygon",LINE:"line_string",POINT:"point"};exports.types=t;var a={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"};exports.geojsonTypes=a;var s={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"};exports.modes=s;var T={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"};exports.events=T;var E={MOVE:"move",CHANGE_COORDINATES:"change_coordinates"};exports.updateActions=E;var _={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"};exports.meta=_;var N={ACTIVE:"true",INACTIVE:"false"};exports.activeStates=N;var p=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"];exports.interactions=p;var O=-90;exports.LAT_MIN=O;var x=-85;exports.LAT_RENDERED_MIN=x;var l=90;exports.LAT_MAX=l;var n=85;exports.LAT_RENDERED_MAX=n;var L=-270;exports.LNG_MIN=L;var i=270;exports.LNG_MAX=i;
},{}],"qjYg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("@mapbox/geojson-area")),t=o(require("../constants"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a=n?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=e[u]}return o.default=e,t&&t.set(e,o),o}function n(e){return e&&e.__esModule?e:{default:e}}var u={Point:0,LineString:1,Polygon:2};function a(e,r){var o=u[e.geometry.type]-u[r.geometry.type];return 0===o&&e.geometry.type===t.geojsonTypes.POLYGON?e.area-r.area:o}function p(r){return r.map(function(r){return r.geometry.type===t.geojsonTypes.POLYGON&&(r.area=e.default.geometry({type:t.geojsonTypes.FEATURE,property:{},geometry:r.geometry})),r}).sort(a).map(function(e){return delete e.area,e})}var f=p;exports.default=f;
},{"@mapbox/geojson-area":"JHOX","../constants":"N5Pn"}],"AQmc":[function(require,module,exports) {
"use strict";function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[[t.point.x-e,t.point.y-e],[t.point.x+e,t.point.y+e]]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t;exports.default=e;
},{}],"fOeC":[function(require,module,exports) {
"use strict";function t(t){if(this._items={},this._nums={},this._length=t?t.length:0,t)for(var s=0,e=t.length;s<e;s++)this.add(t[s]),void 0!==t[s]&&("string"==typeof t[s]?this._items[t[s]]=s:this._nums[t[s]]=s)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,t.prototype.add=function(t){return this.has(t)?this:(this._length++,"string"==typeof t?this._items[t]=this._length:this._nums[t]=this._length,this)},t.prototype.delete=function(t){return!1===this.has(t)?this:(this._length--,delete this._items[t],delete this._nums[t],this)},t.prototype.has=function(t){return("string"==typeof t||"number"==typeof t)&&(void 0!==this._items[t]||void 0!==this._nums[t])},t.prototype.values=function(){var t=this,s=[];return Object.keys(this._items).forEach(function(e){s.push({k:e,v:t._items[e]})}),Object.keys(this._nums).forEach(function(e){s.push({k:JSON.parse(e),v:t._nums[e]})}),s.sort(function(t,s){return t.v-s.v}).map(function(t){return t.k})},t.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var s=t;exports.default=s;
},{}],"YEGt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./sort_features")),t=i(require("./map_event_to_bounding_box")),r=o(require("../constants")),n=i(require("./string_set"));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function i(e){return e&&e.__esModule?e:{default:e}}var a=[r.meta.FEATURE,r.meta.MIDPOINT,r.meta.VERTEX],f={click:s,touch:c};function s(e,t,r){return p(e,t,r,r.options.clickBuffer)}function c(e,t,r){return p(e,t,r,r.options.touchBuffer)}function p(r,u,o,i){if(null===o.map)return[];var f=r?(0,t.default)(r,i):u,s={};o.options.styles&&(s.layers=o.options.styles.map(function(e){return e.id}));var c=o.map.queryRenderedFeatures(f,s).filter(function(e){return-1!==a.indexOf(e.properties.meta)}),p=new n.default,l=[];return c.forEach(function(e){var t=e.properties.id;p.has(t)||(p.add(t),l.push(e))}),(0,e.default)(l)}exports.default=f;
},{"./sort_features":"qjYg","./map_event_to_bounding_box":"AQmc","../constants":"N5Pn","./string_set":"fOeC"}],"ycSf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=n(require("./features_at")),r=u(require("../constants"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var u={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(u,o,s):u[o]=e[o]}return u.default=e,r&&r.set(e,u),u}function n(e){return e&&e.__esModule?e:{default:e}}function o(t,u){var n=e.default.click(t,null,u),o={mouse:r.cursors.NONE};return n[0]&&(o.mouse=n[0].properties.active===r.activeStates.ACTIVE?r.cursors.MOVE:r.cursors.POINTER,o.feature=n[0].properties.meta),-1!==u.events.currentModeName().indexOf("draw")&&(o.mouse=r.cursors.ADD),u.ui.queueMapClasses(o),u.ui.updateMapClasses(),n[0]}
},{"./features_at":"YEGt","../constants":"N5Pn"}],"xoBP":[function(require,module,exports) {
"use strict";function e(e,t){var r=e.x-t.x,s=e.y-t.y;return Math.sqrt(r*r+s*s)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"VJRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=t(require("./euclidean_distance"));function t(e){return e&&e.__esModule?e:{default:e}}var n=4,r=12,i=500;function l(t,l){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=o.fineTolerance?o.fineTolerance:n,u=null!=o.grossTolerance?o.grossTolerance:r,s=null!=o.interval?o.interval:i;t.point=t.point||l.point,t.time=t.time||l.time;var c=(0,e.default)(t.point,l.point);return c<a||c<u&&l.time-t.time<s}
},{"./euclidean_distance":"xoBP"}],"Fggy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./euclidean_distance"));function t(e){return e&&e.__esModule?e:{default:e}}var n=25,i=250;function r(t,r){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!=l.tolerance?l.tolerance:n,u=null!=l.interval?l.interval:i;return t.point=t.point||r.point,t.time=t.time||r.time,(0,e.default)(t.point,r.point)<o&&r.time-t.time<u}
},{"./euclidean_distance":"xoBP"}],"ml3q":[function(require,module,exports) {
var t=module.exports=function(r,o){if(o||(o=16),void 0===r&&(r=128),r<=0)return"0";for(var a=Math.log(Math.pow(2,r))/Math.log(o),n=2;a===1/0;n*=2)a=Math.log(Math.pow(2,r/n))/Math.log(o)*n;var h=a-Math.floor(a),e="";for(n=0;n<Math.floor(a);n++){e=Math.floor(Math.random()*o).toString(o)+e}if(h){var i=Math.pow(o,h);e=Math.floor(Math.random()*i).toString(o)+e}var f=parseInt(e,o);return f!==1/0&&f>=Math.pow(2,r)?t(r,o):e};t.rack=function(r,o,a){var n=function(n){var e=0;do{if(e++>10){if(!a)throw new Error("too many ID collisions, use more bits");r+=a}var i=t(r,o)}while(Object.hasOwnProperty.call(h,i));return h[i]=n,i},h=n.hats={};return n.get=function(t){return n.hats[t]},n.set=function(t,r){return n.hats[t]=r,n},n.bits=r||128,n.base=o||16,n};
},{}],"MdPs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("hat")),e=o(require("../constants"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=i?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(o,n,s):o[n]=t[n]}return o.default=t,e&&e.set(t,o),o}function i(t){return t&&t.__esModule?t:{default:t}}var n=function(e,r){this.ctx=e,this.properties=r.properties||{},this.coordinates=r.geometry.coordinates,this.id=r.id||(0,t.default)(),this.type=r.geometry.type};n.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},n.prototype.incomingCoords=function(t){this.setCoordinates(t)},n.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},n.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},n.prototype.setProperty=function(t,e){this.properties[t]=e},n.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:e.geojsonTypes.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},n.prototype.internal=function(t){var r={id:this.id,meta:e.meta.FEATURE,"meta:type":this.type,active:e.activeStates.INACTIVE,mode:t};if(this.ctx.options.userProperties)for(var o in this.properties)r["user_".concat(o)]=this.properties[o];return{type:e.geojsonTypes.FEATURE,properties:r,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var s=n;exports.default=s;
},{"hat":"ml3q","../constants":"N5Pn"}],"Y6r3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./feature"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(e,o){t.default.call(this,e,o)};o.prototype=Object.create(t.default.prototype),o.prototype.isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},o.prototype.updateCoordinate=function(t,e,o){3===arguments.length?this.coordinates=[e,o]:this.coordinates=[t,e],this.changed()},o.prototype.getCoordinate=function(){return this.getCoordinates()};var r=o;exports.default=r;
},{"./feature":"MdPs"}],"AtGh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./feature"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(e,o){t.default.call(this,e,o)};o.prototype=Object.create(t.default.prototype),o.prototype.isValid=function(){return this.coordinates.length>1},o.prototype.addCoordinate=function(t,e,o){this.changed();var r=parseInt(t,10);this.coordinates.splice(r,0,[e,o])},o.prototype.getCoordinate=function(t){var e=parseInt(t,10);return JSON.parse(JSON.stringify(this.coordinates[e]))},o.prototype.removeCoordinate=function(t){this.changed(),this.coordinates.splice(parseInt(t,10),1)},o.prototype.updateCoordinate=function(t,e,o){var r=parseInt(t,10);this.coordinates[r]=[e,o],this.changed()};var r=o;exports.default=r;
},{"./feature":"MdPs"}],"YpRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./feature"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(e,o){t.default.call(this,e,o),this.coordinates=this.coordinates.map(function(t){return t.slice(0,-1)})};o.prototype=Object.create(t.default.prototype),o.prototype.isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every(function(t){return t.length>2})},o.prototype.incomingCoords=function(t){this.coordinates=t.map(function(t){return t.slice(0,-1)}),this.changed()},o.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},o.prototype.addCoordinate=function(t,e,o){this.changed();var n=t.split(".").map(function(t){return parseInt(t,10)});this.coordinates[n[0]].splice(n[1],0,[e,o])},o.prototype.removeCoordinate=function(t){this.changed();var e=t.split(".").map(function(t){return parseInt(t,10)}),o=this.coordinates[e[0]];o&&(o.splice(e[1],1),o.length<3&&this.coordinates.splice(e[0],1))},o.prototype.getCoordinate=function(t){var e=t.split(".").map(function(t){return parseInt(t,10)}),o=this.coordinates[e[0]];return JSON.parse(JSON.stringify(o[e[1]]))},o.prototype.getCoordinates=function(){return this.coordinates.map(function(t){return t.concat([t[0]])})},o.prototype.updateCoordinate=function(t,e,o){this.changed();var n=t.split("."),r=parseInt(n[0],10),i=parseInt(n[1],10);void 0===this.coordinates[r]&&(this.coordinates[r]=[]),this.coordinates[r][i]=[e,o]};var n=o;exports.default=n;
},{"./feature":"MdPs"}],"NE5a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./feature")),t=u(require("../constants")),r=s(require("hat")),o=s(require("./point")),n=s(require("./line_string")),i=s(require("./polygon"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function s(e){return e&&e.__esModule?e:{default:e}}var p={MultiPoint:o.default,MultiLineString:n.default,MultiPolygon:i.default},d=function(e,t,r,o,n){var i=r.split("."),a=parseInt(i[0],10),u=i[1]?i.slice(1).join("."):null;return e[a][t](u,o,n)},f=function(t,r){if(e.default.call(this,t,r),delete this.coordinates,this.model=p[r.geometry.type],void 0===this.model)throw new TypeError("".concat(r.geometry.type," is not a valid type"));this.features=this._coordinatesToFeatures(r.geometry.coordinates)};f.prototype=Object.create(e.default.prototype),f.prototype._coordinatesToFeatures=function(e){var o=this,n=this.model.bind(this);return e.map(function(e){return new n(o.ctx,{id:(0,r.default)(),type:t.geojsonTypes.FEATURE,properties:{},geometry:{coordinates:e,type:o.type.replace("Multi","")}})})},f.prototype.isValid=function(){return this.features.every(function(e){return e.isValid()})},f.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},f.prototype.getCoordinate=function(e){return d(this.features,"getCoordinate",e)},f.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(function(e){return e.type===t.geojsonTypes.POLYGON?e.getCoordinates():e.coordinates})))},f.prototype.updateCoordinate=function(e,t,r){d(this.features,"updateCoordinate",e,t,r),this.changed()},f.prototype.addCoordinate=function(e,t,r){d(this.features,"addCoordinate",e,t,r),this.changed()},f.prototype.removeCoordinate=function(e){d(this.features,"removeCoordinate",e),this.changed()},f.prototype.getFeatures=function(){return this.features};var c=f;exports.default=c;
},{"./feature":"MdPs","../constants":"N5Pn","hat":"ml3q","./point":"Y6r3","./line_string":"AtGh","./polygon":"YpRw"}],"CUwX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=c(require("../constants")),t=i(require("../lib/features_at")),r=i(require("../feature_types/point")),n=i(require("../feature_types/line_string")),o=i(require("../feature_types/polygon")),u=i(require("../feature_types/multi_feature"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function a(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e}a.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)},a.prototype.setSelectedCoordinates=function(e){var t=this;this._ctx.store.setSelectedCoordinates(e),e.reduce(function(e,r){return void 0===e[r.feature_id]&&(e[r.feature_id]=!0,t._ctx.store.get(r.feature_id).changed()),e},{})},a.prototype.getSelected=function(){return this._ctx.store.getSelected()},a.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},a.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)},a.prototype.getFeature=function(e){return this._ctx.store.get(e)},a.prototype.select=function(e){return this._ctx.store.select(e)},a.prototype.deselect=function(e){return this._ctx.store.deselect(e)},a.prototype.deleteFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._ctx.store.delete(e,t)},a.prototype.addFeature=function(e){return this._ctx.store.add(e)},a.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},a.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},a.prototype.setActionableState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)},a.prototype.changeMode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._ctx.events.changeMode(e,t,r)},a.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)},a.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)},a.prototype.featuresAt=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";if("click"!==n&&"touch"!==n)throw new Error("invalid buffer type");return t.default[n](e,r,this._ctx)},a.prototype.newFeature=function(t){var i=t.geometry.type;return i===e.geojsonTypes.POINT?new r.default(this._ctx,t):i===e.geojsonTypes.LINE_STRING?new n.default(this._ctx,t):i===e.geojsonTypes.POLYGON?new o.default(this._ctx,t):new u.default(this._ctx,t)},a.prototype.isInstanceOf=function(t,i){if(t===e.geojsonTypes.POINT)return i instanceof r.default;if(t===e.geojsonTypes.LINE_STRING)return i instanceof n.default;if(t===e.geojsonTypes.POLYGON)return i instanceof o.default;if("MultiFeature"===t)return i instanceof u.default;throw new Error("Unknown feature class: ".concat(t))},a.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)};
},{"../constants":"N5Pn","../lib/features_at":"YEGt","../feature_types/point":"Y6r3","../feature_types/line_string":"AtGh","../feature_types/polygon":"YpRw","../feature_types/multi_feature":"NE5a"}],"do0G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=t(require("./mode_interface_accessors"));function t(o){return o&&o.__esModule?o:{default:o}}var e=o.default;exports.default=e,o.default.prototype.onSetup=function(){},o.default.prototype.onDrag=function(){},o.default.prototype.onClick=function(){},o.default.prototype.onMouseMove=function(){},o.default.prototype.onMouseDown=function(){},o.default.prototype.onMouseUp=function(){},o.default.prototype.onMouseOut=function(){},o.default.prototype.onKeyUp=function(){},o.default.prototype.onKeyDown=function(){},o.default.prototype.onTouchStart=function(){},o.default.prototype.onTouchMove=function(){},o.default.prototype.onTouchEnd=function(){},o.default.prototype.onTap=function(){},o.default.prototype.onStop=function(){},o.default.prototype.onTrash=function(){},o.default.prototype.onCombineFeature=function(){},o.default.prototype.onUncombineFeature=function(){},o.default.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};
},{"./mode_interface_accessors":"CUwX"}],"cPV6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var o=n(require("./mode_interface"));function n(o){return o&&o.__esModule?o:{default:o}}var e={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},t=Object.keys(e);function u(n){var u=Object.keys(n);return function(r){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={},a=u.reduce(function(o,e){return o[e]=n[e],o},new o.default(r));return{start:function(){var o=this;s=a.onSetup(c),t.forEach(function(t){var u,r=e[t],c=function(){return!1};n[r]&&(c=function(){return!0}),o.on(t,c,(u=r,function(o){a[u](s,o)}))})},stop:function(){a.onStop(s)},trash:function(){a.onTrash(s)},combineFeatures:function(){a.onCombineFeatures(s)},uncombineFeatures:function(){a.onUncombineFeatures(s)},render:function(o,n){a.toDisplayFeatures(s,o,n)}}}}
},{"./mode_interface":"do0G"}],"feQw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=c(require("./lib/mode_handler")),t=c(require("./lib/get_features_and_set_cursor")),o=c(require("./lib/features_at")),n=c(require("./lib/is_click")),r=c(require("./lib/is_tap")),u=s(require("./constants")),a=c(require("./modes/object_to_mode"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var u=n?Object.getOwnPropertyDescriptor(e,r):null;u&&(u.get||u.set)?Object.defineProperty(o,r,u):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function c(e){return e&&e.__esModule?e:{default:e}}function d(i){var s=Object.keys(i.options.modes).reduce(function(e,t){return e[t]=(0,a.default)(i.options.modes[t]),e},{}),c={},d={},f={},m=null,p=null;f.drag=function(e,t){t({point:e.point,time:(new Date).getTime()})?(i.ui.queueMapClasses({mouse:u.cursors.DRAG}),p.drag(e)):e.originalEvent.stopPropagation()},f.mousedrag=function(e){f.drag(e,function(e){return!(0,n.default)(c,e)})},f.touchdrag=function(e){f.drag(e,function(e){return!(0,r.default)(d,e)})},f.mousemove=function(e){if(1===(void 0!==e.originalEvent.buttons?e.originalEvent.buttons:e.originalEvent.which))return f.mousedrag(e);var o=(0,t.default)(e,i);e.featureTarget=o,p.mousemove(e)},f.mousedown=function(e){c={time:(new Date).getTime(),point:e.point};var o=(0,t.default)(e,i);e.featureTarget=o,p.mousedown(e)},f.mouseup=function(e){var o=(0,t.default)(e,i);e.featureTarget=o,(0,n.default)(c,{point:e.point,time:(new Date).getTime()})?p.click(e):p.mouseup(e)},f.mouseout=function(e){p.mouseout(e)},f.touchstart=function(e){if(e.originalEvent.preventDefault(),i.options.touchEnabled){d={time:(new Date).getTime(),point:e.point};var t=o.default.touch(e,null,i)[0];e.featureTarget=t,p.touchstart(e)}},f.touchmove=function(e){if(e.originalEvent.preventDefault(),i.options.touchEnabled)return p.touchmove(e),f.touchdrag(e)},f.touchend=function(e){if(e.originalEvent.preventDefault(),i.options.touchEnabled){var t=o.default.touch(e,null,i)[0];e.featureTarget=t,(0,r.default)(d,{time:(new Date).getTime(),point:e.point})?p.tap(e):p.touchend(e)}};var l=function(e){return!(8===e||46===e||e>=48&&e<=57)};function v(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p.stop();var r=s[t];if(void 0===r)throw new Error("".concat(t," is not valid"));m=t;var a=r(i,o);p=(0,e.default)(a,i),n.silent||i.map.fire(u.events.MODE_CHANGE,{mode:t}),i.store.setDirty(),i.store.render()}f.keydown=function(e){"mapboxgl-canvas"===(e.srcElement||e.target).classList[0]&&(8!==e.keyCode&&46!==e.keyCode||!i.options.controls.trash?l(e.keyCode)?p.keydown(e):49===e.keyCode&&i.options.controls.point?v(u.modes.DRAW_POINT):50===e.keyCode&&i.options.controls.line_string?v(u.modes.DRAW_LINE_STRING):51===e.keyCode&&i.options.controls.polygon&&v(u.modes.DRAW_POLYGON):(e.preventDefault(),p.trash()))},f.keyup=function(e){l(e.keyCode)&&p.keyup(e)},f.zoomend=function(){i.store.changeZoom()},f.data=function(e){if("style"===e.dataType){var t=i.setup,o=i.map,n=i.options,r=i.store;n.styles.some(function(e){return o.getLayer(e.id)})||(t.addLayers(),r.setDirty(),r.render())}};var g={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){m=i.options.defaultMode,p=(0,e.default)(s[m](i),i)},changeMode:v,actionable:function(e){var t=!1;Object.keys(e).forEach(function(o){if(void 0===g[o])throw new Error("Invalid action type");g[o]!==e[o]&&(t=!0),g[o]=e[o]}),t&&i.map.fire(u.events.ACTIONABLE,{actions:g})},currentModeName:function(){return m},currentModeRender:function(e,t){return p.render(e,t)},fire:function(e,t){f[e]&&f[e](t)},addEventListeners:function(){i.map.on("mousemove",f.mousemove),i.map.on("mousedown",f.mousedown),i.map.on("mouseup",f.mouseup),i.map.on("data",f.data),i.map.on("touchmove",f.touchmove),i.map.on("touchstart",f.touchstart),i.map.on("touchend",f.touchend),i.container.addEventListener("mouseout",f.mouseout),i.options.keybindings&&(i.container.addEventListener("keydown",f.keydown),i.container.addEventListener("keyup",f.keyup))},removeEventListeners:function(){i.map.off("mousemove",f.mousemove),i.map.off("mousedown",f.mousedown),i.map.off("mouseup",f.mouseup),i.map.off("data",f.data),i.map.off("touchmove",f.touchmove),i.map.off("touchstart",f.touchstart),i.map.off("touchend",f.touchend),i.container.removeEventListener("mouseout",f.mouseout),i.options.keybindings&&(i.container.removeEventListener("keydown",f.keydown),i.container.removeEventListener("keyup",f.keyup))},trash:function(e){p.trash(e)},combineFeatures:function(){p.combineFeatures()},uncombineFeatures:function(){p.uncombineFeatures()},getMode:function(){return m}}}
},{"./lib/mode_handler":"GXB6","./lib/get_features_and_set_cursor":"ycSf","./lib/features_at":"YEGt","./lib/is_click":"VJRw","./lib/is_tap":"Fggy","./constants":"N5Pn","./modes/object_to_mode":"cPV6"}],"VUBM":[function(require,module,exports) {
"use strict";function e(e){return[].concat(e).filter(function(e){return void 0!==e})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"viLp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=r(require("./constants"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=n?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o}function o(){var t=this;if(!(t.ctx.map&&void 0!==t.ctx.map.getSource(e.sources.HOT)))return a();var r=t.ctx.events.currentModeName();t.ctx.ui.queueMapClasses({mode:r});var o=[],n=[];t.isDirty?n=t.getAllIds():(o=t.getChangedIds().filter(function(e){return void 0!==t.get(e)}),n=t.sources.hot.filter(function(e){return e.properties.id&&-1===o.indexOf(e.properties.id)&&void 0!==t.get(e.properties.id)}).map(function(e){return e.properties.id})),t.sources.hot=[];var s=t.sources.cold.length;t.sources.cold=t.isDirty?[]:t.sources.cold.filter(function(e){var t=e.properties.id||e.properties.parent;return-1===o.indexOf(t)});var i=s!==t.sources.cold.length||n.length>0;function u(e,o){var n=t.get(e).internal(r);t.ctx.events.currentModeRender(n,function(e){t.sources[o].push(e)})}if(o.forEach(function(e){return u(e,"hot")}),n.forEach(function(e){return u(e,"cold")}),i&&t.ctx.map.getSource(e.sources.COLD).setData({type:e.geojsonTypes.FEATURE_COLLECTION,features:t.sources.cold}),t.ctx.map.getSource(e.sources.HOT).setData({type:e.geojsonTypes.FEATURE_COLLECTION,features:t.sources.hot}),t._emitSelectionChange&&(t.ctx.map.fire(e.events.SELECTION_CHANGE,{features:t.getSelected().map(function(e){return e.toGeoJSON()}),points:t.getSelectedCoordinates().map(function(t){return{type:e.geojsonTypes.FEATURE,properties:{},geometry:{type:e.geojsonTypes.POINT,coordinates:t.coordinates}}})}),t._emitSelectionChange=!1),t._deletedFeaturesToEmit.length){var c=t._deletedFeaturesToEmit.map(function(e){return e.toGeoJSON()});t._deletedFeaturesToEmit=[],t.ctx.map.fire(e.events.DELETE,{features:c})}function a(){t.isDirty=!1,t.clearChangedIds()}a(),t.ctx.map.fire(e.events.RENDER,{})}
},{"./constants":"N5Pn"}],"oyaz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=n(require("./lib/to_dense_array")),t=n(require("./lib/string_set")),i=n(require("./render")),r=require("./constants");function n(e){return e&&e.__esModule?e:{default:e}}function s(e){var r,n=this;this._features={},this._featureIds=new t.default,this._selectedFeatureIds=new t.default,this._selectedCoordinates=[],this._changedFeatureIds=new t.default,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=function(){r||(r=requestAnimationFrame(function(){r=null,i.default.call(n)}))},this.isDirty=!1}function o(e,t){var i=e._selectedCoordinates.filter(function(t){return e._selectedFeatureIds.has(t.feature_id)});e._selectedCoordinates.length===i.length||t.silent||(e._emitSelectionChange=!0),e._selectedCoordinates=i}s.prototype.createRenderBatch=function(){var e=this,t=this.render,i=0;return this.render=function(){i++},function(){e.render=t,i>0&&e.render()}},s.prototype.setDirty=function(){return this.isDirty=!0,this},s.prototype.featureChanged=function(e){return this._changedFeatureIds.add(e),this},s.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},s.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},s.prototype.getAllIds=function(){return this._featureIds.values()},s.prototype.add=function(e){return this.featureChanged(e.id),this._features[e.id]=e,this._featureIds.add(e.id),this},s.prototype.delete=function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e.default)(t).forEach(function(e){i._featureIds.has(e)&&(i._featureIds.delete(e),i._selectedFeatureIds.delete(e),r.silent||-1===i._deletedFeaturesToEmit.indexOf(i._features[e])&&i._deletedFeaturesToEmit.push(i._features[e]),delete i._features[e],i.isDirty=!0)}),o(this,r),this},s.prototype.get=function(e){return this._features[e]},s.prototype.getAll=function(){var e=this;return Object.keys(this._features).map(function(t){return e._features[t]})},s.prototype.select=function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e.default)(t).forEach(function(e){i._selectedFeatureIds.has(e)||(i._selectedFeatureIds.add(e),i._changedFeatureIds.add(e),r.silent||(i._emitSelectionChange=!0))}),this},s.prototype.deselect=function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e.default)(t).forEach(function(e){i._selectedFeatureIds.has(e)&&(i._selectedFeatureIds.delete(e),i._changedFeatureIds.add(e),r.silent||(i._emitSelectionChange=!0))}),o(this,r),this},s.prototype.clearSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},s.prototype.setSelected=function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=(0,e.default)(t),this.deselect(this._selectedFeatureIds.values().filter(function(e){return-1===t.indexOf(e)}),{silent:r.silent}),this.select(t.filter(function(e){return!i._selectedFeatureIds.has(e)}),{silent:r.silent}),this},s.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this},s.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},s.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},s.prototype.getSelected=function(){var e=this;return this._selectedFeatureIds.values().map(function(t){return e.get(t)})},s.prototype.getSelectedCoordinates=function(){var e=this;return this._selectedCoordinates.map(function(t){return{coordinates:e.get(t.feature_id).getCoordinate(t.coord_path)}})},s.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},s.prototype.setFeatureProperty=function(e,t,i){this.get(e).setProperty(t,i),this.featureChanged(e)},s.prototype.storeMapConfig=function(){var e=this;r.interactions.forEach(function(t){e.ctx.map[t]&&(e._mapInitialConfig[t]=e.ctx.map[t].isEnabled())})},s.prototype.restoreMapConfig=function(){var e=this;Object.keys(this._mapInitialConfig).forEach(function(t){e._mapInitialConfig[t]?e.ctx.map[t].enable():e.ctx.map[t].disable()})},s.prototype.getInitialConfigValue=function(e){return void 0===this._mapInitialConfig[e]||this._mapInitialConfig[e]};
},{"./lib/to_dense_array":"VUBM","./lib/string_set":"fOeC","./render":"viLp","./constants":"N5Pn"}],"YxsI":[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var o={},t=0;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],"kbNI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=s(require("xtend")),t=a(require("./constants"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=s?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,t&&t.set(e,a),a}function s(e){return e&&e.__esModule?e:{default:e}}var o=["mode","feature","mouse"];function c(n){var a={},s=null,c={mode:null,feature:null,mouse:null},r={mode:null,feature:null,mouse:null};function i(t){r=(0,e.default)(r,t)}function u(){if(n.container){var t,a,s=[],i=[];if(o.forEach(function(e){r[e]!==c[e]&&(s.push("".concat(e,"-").concat(c[e])),null!==r[e]&&i.push("".concat(e,"-").concat(r[e])))}),s.length>0)(t=n.container.classList).remove.apply(t,s);if(i.length>0)(a=n.container.classList).add.apply(a,i);c=(0,e.default)(c,r)}}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=document.createElement("button");return a.className="".concat(t.classes.CONTROL_BUTTON," ").concat(n.className),a.setAttribute("title",n.title),n.container.appendChild(a),a.addEventListener("click",function(t){if(t.preventDefault(),t.stopPropagation(),t.target===s)return f(),void n.onDeactivate();O(e),n.onActivate()},!0),a}function f(){s&&(s.classList.remove(t.classes.ACTIVE_BUTTON),s=null)}function O(e){f();var n=a[e];n&&n&&"trash"!==e&&(n.classList.add(t.classes.ACTIVE_BUTTON),s=n)}return{setActiveButton:O,queueMapClasses:i,updateMapClasses:u,clearMapClasses:function(){i({mode:null,feature:null,mouse:null}),u()},addButtons:function(){var e=n.options.controls,s=document.createElement("div");return s.className="".concat(t.classes.CONTROL_GROUP," ").concat(t.classes.CONTROL_BASE),e?(e[t.types.LINE]&&(a[t.types.LINE]=l(t.types.LINE,{container:s,className:t.classes.CONTROL_BUTTON_LINE,title:"LineString tool ".concat(n.options.keybindings?"(l)":""),onActivate:function(){return n.events.changeMode(t.modes.DRAW_LINE_STRING)},onDeactivate:function(){return n.events.trash()}})),e[t.types.POLYGON]&&(a[t.types.POLYGON]=l(t.types.POLYGON,{container:s,className:t.classes.CONTROL_BUTTON_POLYGON,title:"Polygon tool ".concat(n.options.keybindings?"(p)":""),onActivate:function(){return n.events.changeMode(t.modes.DRAW_POLYGON)},onDeactivate:function(){return n.events.trash()}})),e[t.types.POINT]&&(a[t.types.POINT]=l(t.types.POINT,{container:s,className:t.classes.CONTROL_BUTTON_POINT,title:"Marker tool ".concat(n.options.keybindings?"(m)":""),onActivate:function(){return n.events.changeMode(t.modes.DRAW_POINT)},onDeactivate:function(){return n.events.trash()}})),e.trash&&(a.trash=l("trash",{container:s,className:t.classes.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){n.events.trash()}})),e.combine_features&&(a.combine_features=l("combineFeatures",{container:s,className:t.classes.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){n.events.combineFeatures()}})),e.uncombine_features&&(a.uncombine_features=l("uncombineFeatures",{container:s,className:t.classes.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){n.events.uncombineFeatures()}})),s):s},removeButtons:function(){Object.keys(a).forEach(function(e){var t=a[e];t.parentNode&&t.parentNode.removeChild(t),delete a[e]})}}}
},{"xtend":"YxsI","./constants":"N5Pn"}],"gGRp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=s(require("./events")),t=s(require("./store")),r=s(require("./ui")),n=u(require("./constants")),o=s(require("xtend"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function s(e){return e&&e.__esModule?e:{default:e}}function c(a){var u=null,s=null,c={onRemove:function(){return a.map.off("load",c.connect),clearInterval(s),c.removeLayers(),a.store.restoreMapConfig(),a.ui.removeButtons(),a.events.removeEventListeners(),a.ui.clearMapClasses(),a.map=null,a.container=null,a.store=null,u&&u.parentNode&&u.parentNode.removeChild(u),u=null,this},connect:function(){a.map.off("load",c.connect),clearInterval(s),c.addLayers(),a.store.storeMapConfig(),a.events.addEventListeners()},onAdd:function(n){var i=n.fire;return n.fire=function(e,t){var r=arguments;return 1===i.length&&1!==arguments.length&&(r=[(0,o.default)({},{type:e},t)]),i.apply(n,r)},a.map=n,a.events=(0,e.default)(a),a.ui=(0,r.default)(a),a.container=n.getContainer(),a.store=new t.default(a),u=a.ui.addButtons(),a.options.boxSelect&&(n.boxZoom.disable(),n.dragPan.disable(),n.dragPan.enable()),n.loaded()?c.connect():(n.on("load",c.connect),s=setInterval(function(){n.loaded()&&c.connect()},16)),a.events.start(),u},addLayers:function(){a.map.addSource(n.sources.COLD,{data:{type:n.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),a.map.addSource(n.sources.HOT,{data:{type:n.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),a.options.styles.forEach(function(e){a.map.addLayer(e)}),a.store.setDirty(!0),a.store.render()},removeLayers:function(){a.options.styles.forEach(function(e){a.map.getLayer(e.id)&&a.map.removeLayer(e.id)}),a.map.getSource(n.sources.COLD)&&a.map.removeSource(n.sources.COLD),a.map.getSource(n.sources.HOT)&&a.map.removeSource(n.sources.HOT)}};return a.setup=c,c}
},{"./events":"feQw","./store":"oyaz","./ui":"kbNI","./constants":"N5Pn","xtend":"YxsI"}],"RCsa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];exports.default=i;
},{}],"So3z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isOfMetaType=n,exports.isShiftMousedown=a,exports.isActiveFeature=i,exports.isInactiveFeature=o,exports.noTarget=u,exports.isFeature=p,exports.isVertex=s,exports.isShiftDown=f,exports.isEscapeKey=c,exports.isEnterKey=g,exports.isTrue=T;var e=r(require("../constants"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function n(e){return function(t){var r=t.featureTarget;return!!r&&(!!r.properties&&r.properties.meta===e)}}function a(e){return!!e.originalEvent&&(!!e.originalEvent.shiftKey&&0===e.originalEvent.button)}function i(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===e.activeStates.ACTIVE&&t.featureTarget.properties.meta===e.meta.FEATURE))}function o(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===e.activeStates.INACTIVE&&t.featureTarget.properties.meta===e.meta.FEATURE))}function u(e){return void 0===e.featureTarget}function p(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&t.featureTarget.properties.meta===e.meta.FEATURE)}function s(t){var r=t.featureTarget;return!!r&&(!!r.properties&&r.properties.meta===e.meta.VERTEX)}function f(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey}function c(e){return 27===e.keyCode}function g(e){return 13===e.keyCode}function T(){return!0}
},{"../constants":"N5Pn"}],"KThR":[function(require,module,exports) {
"use strict";function t(t,n){this.x=t,this.y=n}module.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,n){return this.clone()._rotateAround(t,n)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,i=t.y-this.y;return n*n+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=n,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),i=Math.sin(t),s=n*this.x-i*this.y,r=i*this.x+n*this.y;return this.x=s,this.y=r,this},_rotateAround:function(t,n){var i=Math.cos(t),s=Math.sin(t),r=n.x+i*(this.x-n.x)-s*(this.y-n.y),h=n.y+s*(this.x-n.x)+i*(this.y-n.y);return this.x=r,this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(n){return n instanceof t?n:Array.isArray(n)?new t(n[0],n[1]):n};
},{}],"bKiU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@mapbox/point-geometry"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t,n){var r=n.getBoundingClientRect();return new e.default(t.clientX-r.left-(n.clientLeft||0),t.clientY-r.top-(n.clientTop||0))}var r=n;exports.default=r;
},{"@mapbox/point-geometry":"KThR"}],"jr5c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("../constants"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var p=o?Object.getOwnPropertyDescriptor(e,a):null;p&&(p.get||p.set)?Object.defineProperty(n,a,p):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function n(t,r,n,o){return{type:e.geojsonTypes.FEATURE,properties:{meta:e.meta.VERTEX,parent:t,coord_path:n,active:o?e.activeStates.ACTIVE:e.activeStates.INACTIVE},geometry:{type:e.geojsonTypes.POINT,coordinates:r}}}
},{"../constants":"N5Pn"}],"adxd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=r(require("../constants"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var p=n?Object.getOwnPropertyDescriptor(e,a):null;p&&(p.get||p.set)?Object.defineProperty(o,a,p):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function o(t,r,o,n){var a=r.geometry.coordinates,p=o.geometry.coordinates;if(a[1]>e.LAT_RENDERED_MAX||a[1]<e.LAT_RENDERED_MIN||p[1]>e.LAT_RENDERED_MAX||p[1]<e.LAT_RENDERED_MIN)return null;var u=n.project([a[0],a[1]]),c=n.project([p[0],p[1]]),i=n.unproject([(u.x+c.x)/2,(u.y+c.y)/2]);return{type:e.geojsonTypes.FEATURE,properties:{meta:e.meta.MIDPOINT,parent:t,lng:i.lng,lat:i.lat,coord_path:o.properties.coord_path},geometry:{type:e.geojsonTypes.POINT,coordinates:[i.lng,i.lat]}}}
},{"../constants":"N5Pn"}],"ptOM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./create_vertex")),t=i(require("./create_midpoint")),r=o(require("../constants"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function i(e){return e&&e.__esModule?e:{default:e}}function u(n){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=n.geometry,s=c.type,p=c.coordinates,f=n.properties&&n.properties.id,l=[];function d(r,n){var o="",u=null;r.forEach(function(r,a){var c=null!=n?"".concat(n,".").concat(a):String(a),s=(0,e.default)(f,r,c,y(c));if(i.midpoints&&u){var p=(0,t.default)(f,u,s,i.map);p&&l.push(p)}u=s;var d=JSON.stringify(r);o!==d&&l.push(s),0===a&&(o=d)})}function y(e){return!!i.selectedPaths&&-1!==i.selectedPaths.indexOf(e)}return s===r.geojsonTypes.POINT?l.push((0,e.default)(f,p,a,y(a))):s===r.geojsonTypes.POLYGON?p.forEach(function(e,t){d(e,null!==a?"".concat(a,".").concat(t):String(t))}):s===r.geojsonTypes.LINE_STRING?d(p,a):0===s.indexOf(r.geojsonTypes.MULTI_PREFIX)&&(o=s.replace(r.geojsonTypes.MULTI_PREFIX,""),p.forEach(function(e,t){var a={type:r.geojsonTypes.FEATURE,properties:n.properties,geometry:{type:o,coordinates:e}};l=l.concat(u(a,i,t))})),l}var a=u;exports.default=a;
},{"./create_vertex":"jr5c","./create_midpoint":"adxd","../constants":"N5Pn"}],"SKQ3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={enable:function(e){setTimeout(function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()},0)},disable:function(e){setTimeout(function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()},0)}};exports.default=e;
},{}],"lU0K":[function(require,module,exports) {
module.exports=t;var e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function t(t){if(!t||!t.type)return null;var o=e[t.type];return o?"geometry"===o?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===o?{type:"FeatureCollection",features:[t]}:"featurecollection"===o?t:void 0:null}
},{}],"DY1o":[function(require,module,exports) {
module.exports=function e(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce(function(t,r){return t.concat(e(r))},[]),t;case"Feature":return t.geometry?e(t.geometry).map(function(e){var r={type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e};return void 0!==t.id&&(r.id=t.id),r}):t;case"MultiPoint":return t.coordinates.map(function(e){return{type:"Point",coordinates:e}});case"MultiPolygon":return t.coordinates.map(function(e){return{type:"Polygon",coordinates:e}});case"MultiLineString":return t.coordinates.map(function(e){return{type:"LineString",coordinates:e}});case"GeometryCollection":return t.geometries.map(e).reduce(function(e,t){return e.concat(t)},[]);case"Point":case"Polygon":case"LineString":return[t]}};
},{}],"qRmu":[function(require,module,exports) {
module.exports=function(r){return function r(n){if(Array.isArray(n)&&n.length&&"number"==typeof n[0])return[n];return n.reduce(function(n,e){return Array.isArray(e)&&Array.isArray(e[0])?n.concat(r(e)):(n.push(e),n)},[])}(r)};
},{}],"itz7":[function(require,module,exports) {
var e=require("@mapbox/geojson-normalize"),r=require("geojson-flatten"),o=require("./flatten");module.exports=function(t){if(!t)return[];var n=r(e(t)),a=[];return n.features.forEach(function(e){e.geometry&&(a=a.concat(o(e.geometry.coordinates)))}),a};
},{"@mapbox/geojson-normalize":"lU0K","geojson-flatten":"DY1o","./flatten":"qRmu"}],"r0nL":[function(require,module,exports) {
var e=module.exports=function(e){return new t(e)};function t(e){this.value=e}function n(e,t,n){var u=[],i=[],c=!0;return function e(a){var f=n?o(a):a,l={},p=!0,y={node:f,node_:a,path:[].concat(u),parent:i[i.length-1],parents:i,key:u.slice(-1)[0],isRoot:0===u.length,level:u.length,circular:null,update:function(e,t){y.isRoot||(y.parent.node[y.key]=e),y.node=e,t&&(p=!1)},delete:function(e){delete y.parent.node[y.key],e&&(p=!1)},remove:function(e){s(y.parent.node)?y.parent.node.splice(y.key,1):delete y.parent.node[y.key],e&&(p=!1)},keys:null,before:function(e){l.before=e},after:function(e){l.after=e},pre:function(e){l.pre=e},post:function(e){l.post=e},stop:function(){c=!1},block:function(){p=!1}};if(!c)return y;function d(){if("object"==typeof y.node&&null!==y.node){y.keys&&y.node_===y.node||(y.keys=r(y.node)),y.isLeaf=0==y.keys.length;for(var e=0;e<i.length;e++)if(i[e].node_===a){y.circular=i[e];break}}else y.isLeaf=!0,y.keys=null;y.notLeaf=!y.isLeaf,y.notRoot=!y.isRoot}d();var b=t.call(y,y.node);return void 0!==b&&y.update&&y.update(b),l.before&&l.before.call(y,y.node),p?("object"!=typeof y.node||null===y.node||y.circular||(i.push(y),d(),h(y.keys,function(t,o){u.push(t),l.pre&&l.pre.call(y,y.node[t],t);var r=e(y.node[t]);n&&v.call(y.node,t)&&(y.node[t]=r.node),r.isLast=o==y.keys.length-1,r.isFirst=0==o,l.post&&l.post.call(y,r),u.pop()}),i.pop()),l.after&&l.after.call(y,y.node),y):y}(e).node}function o(e){if("object"==typeof e&&null!==e){var t;if(s(e))t=[];else if(i(e))t=new Date(e.getTime?e.getTime():e);else if(c(e))t=new RegExp(e);else if(a(e))t={message:e.message};else if(f(e))t=new Boolean(e);else if(l(e))t=new Number(e);else if(p(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},o=function(){};o.prototype=n,t=new o}return h(r(e),function(n){t[n]=e[n]}),t}return e}t.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var o=e[n];if(!t||!v.call(t,o)){t=void 0;break}t=t[o]}return t},t.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var o=e[n];if(!t||!v.call(t,o))return!1;t=t[o]}return!0},t.prototype.set=function(e,t){for(var n=this.value,o=0;o<e.length-1;o++){var r=e[o];v.call(n,r)||(n[r]={}),n=n[r]}return n[e[o]]=t,t},t.prototype.map=function(e){return n(this.value,e,!0)},t.prototype.forEach=function(e){return this.value=n(this.value,e,!1),this.value},t.prototype.reduce=function(e,t){var n=1===arguments.length,o=n?this.value:t;return this.forEach(function(t){this.isRoot&&n||(o=e.call(this,o,t))}),o},t.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},t.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},t.prototype.clone=function(){var e=[],t=[];return function n(u){for(var i=0;i<e.length;i++)if(e[i]===u)return t[i];if("object"==typeof u&&null!==u){var c=o(u);return e.push(u),t.push(c),h(r(u),function(e){c[e]=n(u[e])}),e.pop(),t.pop(),c}return u}(this.value)};var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function u(e){return Object.prototype.toString.call(e)}function i(e){return"[object Date]"===u(e)}function c(e){return"[object RegExp]"===u(e)}function a(e){return"[object Error]"===u(e)}function f(e){return"[object Boolean]"===u(e)}function l(e){return"[object Number]"===u(e)}function p(e){return"[object String]"===u(e)}var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};h(r(t.prototype),function(n){e[n]=function(e){var o=[].slice.call(arguments,1),r=new t(e);return r[n].apply(r,o)}});var v=Object.hasOwnProperty||function(e,t){return t in e};
},{}],"dNB2":[function(require,module,exports) {
function t(b){if(!(this instanceof t))return new t(b);this._bbox=b||[1/0,1/0,-1/0,-1/0],this._valid=!!b}module.exports=t,t.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},t.prototype.equals=function(b){var i;return i=b instanceof t?b.bbox():b,this._bbox[0]==i[0]&&this._bbox[1]==i[1]&&this._bbox[2]==i[2]&&this._bbox[3]==i[3]},t.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},t.prototype.union=function(b){var i;return this._valid=!0,i=b instanceof t?b.bbox():b,this._bbox[0]=Math.min(this._bbox[0],i[0]),this._bbox[1]=Math.min(this._bbox[1],i[1]),this._bbox[2]=Math.max(this._bbox[2],i[2]),this._bbox[3]=Math.max(this._bbox[3],i[3]),this},t.prototype.bbox=function(){return this._valid?this._bbox:null},t.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var b=t[0],i=t[1];return this._bbox[0]<=b&&this._bbox[1]<=i&&this._bbox[2]>=b&&this._bbox[3]>=i},t.prototype.intersect=function(b){return this._valid?(i=b instanceof t?b.bbox():b,!(this._bbox[0]>i[2]||this._bbox[2]<i[0]||this._bbox[3]<i[1]||this._bbox[1]>i[3])):null;var i},t.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var t="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",t)},t.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};
},{}],"nyDk":[function(require,module,exports) {
var e=require("@mapbox/geojson-coords"),o=require("traverse"),t=require("@mapbox/extent"),n={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},r=Object.keys(n);function i(o){for(var n=t(),r=e(o),i=0;i<r.length;i++)n.include(r[i]);return n}module.exports=function(e){return i(e).bbox()},module.exports.polygon=function(e){return i(e).polygon()},module.exports.bboxify=function(e){return o(e).map(function(e){e&&(r.some(function(o){return!!e[o]&&-1!==n[o].indexOf(e.type)})&&(e.bbox=i(e).bbox(),this.update(e)))})};
},{"@mapbox/geojson-coords":"itz7","traverse":"r0nL","@mapbox/extent":"dNB2"}],"NogZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=p;var t=a(require("@mapbox/geojson-extent")),e=n(require("../constants"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var o=a?Object.getOwnPropertyDescriptor(t,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=t[l]}return n.default=t,e&&e.set(t,n),n}function a(t){return t&&t.__esModule?t:{default:t}}var l=e.LAT_MIN,o=e.LAT_MAX,u=e.LAT_RENDERED_MIN,f=e.LAT_RENDERED_MAX,i=e.LNG_MIN,c=e.LNG_MAX;function p(e,r){var n=l,a=o,p=l,s=o,M=c,_=i;e.forEach(function(e){var r=(0,t.default)(e),l=r[1],o=r[3],u=r[0],f=r[2];l>n&&(n=l),o<a&&(a=o),o>p&&(p=o),l<s&&(s=l),u<M&&(M=u),f>_&&(_=f)});var d=r;return n+d.lat>f&&(d.lat=f-n),p+d.lat>o&&(d.lat=o-p),a+d.lat<u&&(d.lat=u-a),s+d.lat<l&&(d.lat=l-s),M+d.lng<=i&&(d.lng+=360*Math.ceil(Math.abs(d.lng)/360)),_+d.lng>=c&&(d.lng-=360*Math.ceil(Math.abs(d.lng)/360)),d}
},{"@mapbox/geojson-extent":"nyDk","../constants":"N5Pn"}],"aArV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=o(require("./constrain_feature_movement")),t=r(require("../constants"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function o(e){return e&&e.__esModule?e:{default:e}}function u(n,r){var o=(0,e.default)(n.map(function(e){return e.toGeoJSON()}),r);n.forEach(function(e){var n,r=e.getCoordinates(),u=function(e){var t={lng:e[0]+o.lng,lat:e[1]+o.lat};return[t.lng,t.lat]},a=function(e){return e.map(function(e){return u(e)})};e.type===t.geojsonTypes.POINT?n=u(r):e.type===t.geojsonTypes.LINE_STRING||e.type===t.geojsonTypes.MULTI_POINT?n=r.map(u):e.type===t.geojsonTypes.POLYGON||e.type===t.geojsonTypes.MULTI_LINE_STRING?n=r.map(a):e.type===t.geojsonTypes.MULTI_POLYGON&&(n=r.map(function(e){return e.map(function(e){return a(e)})})),e.incomingCoords(n)})}
},{"./constrain_feature_movement":"NogZ","../constants":"N5Pn"}],"VNLb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../lib/common_selectors")),t=s(require("../lib/mouse_event_point")),n=s(require("../lib/create_supplementary_points")),i=s(require("../lib/string_set")),r=s(require("../lib/double_click_zoom")),o=s(require("../lib/move_features")),a=l(require("../constants"));function s(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var u={onSetup:function(e){var t=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter(function(e){return void 0!==t.getFeature(e)})),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(a.events.UPDATE,{action:a.updateActions.MOVE,features:this.getSelected().map(function(e){return e.toGeoJSON()})})},fireActionable:function(){var e=this,t=this.getSelected(),n=t.filter(function(t){return e.isInstanceOf("MultiFeature",t)}),i=!1;if(t.length>1){i=!0;var r=t[0].type.replace("Multi","");t.forEach(function(e){e.type.replace("Multi","")!==r&&(i=!1)})}var o=n.length>0,a=t.length>0;this.setActionableState({combineFeatures:i,uncombineFeatures:o,trash:a})},getUniqueIds:function(e){return e.length?e.map(function(e){return e.properties.id}).filter(function(e){return void 0!==e}).reduce(function(e,t){return e.add(t),e},new i.default).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){r.default.enable(this)},onMouseMove:function(e){return this.stopExtendedInteractions(e)},onMouseOut:function(e){if(e.dragMoving)return this.fireUpdate()}};u.onTap=u.onClick=function(t,n){return e.noTarget(n)?this.clickAnywhere(t,n):e.isOfMetaType(a.meta.VERTEX)(n)?this.clickOnVertex(t,n):e.isFeature(n)?this.clickOnFeature(t,n):void 0},u.clickAnywhere=function(e){var t=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach(function(e){return t.doRender(e)})),r.default.enable(this),this.stopExtendedInteractions(e)},u.clickOnVertex=function(e,t){this.changeMode(a.modes.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:a.cursors.MOVE})},u.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},u.clickOnFeature=function(t,n){var i=this;r.default.disable(this),this.stopExtendedInteractions(t);var o=e.isShiftDown(n),s=this.getSelectedIds(),c=n.featureTarget.properties.id,l=this.isSelected(c);if(!o&&l&&this.getFeature(c).type!==a.geojsonTypes.POINT)return this.changeMode(a.modes.DIRECT_SELECT,{featureId:c});l&&o?(this.deselect(c),this.updateUIClasses({mouse:a.cursors.POINTER}),1===s.length&&r.default.enable(this)):!l&&o?(this.select(c),this.updateUIClasses({mouse:a.cursors.MOVE})):l||o||(s.forEach(function(e){return i.doRender(e)}),this.setSelected(c),this.updateUIClasses({mouse:a.cursors.MOVE})),this.doRender(c)},u.onMouseDown=function(t,n){return e.isActiveFeature(n)?this.startOnActiveFeature(t,n):this.drawConfig.boxSelect&&e.isShiftMousedown(n)?this.startBoxSelect(t,n):void 0},u.startBoxSelect=function(e,n){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=(0,t.default)(n.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},u.onTouchStart=function(t,n){if(e.isActiveFeature(n))return this.startOnActiveFeature(t,n)},u.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},u.whileBoxSelect=function(e,n){e.boxSelecting=!0,this.updateUIClasses({mouse:a.cursors.ADD}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(a.classes.BOX_SELECT),this.map.getContainer().appendChild(e.boxSelectElement));var i=(0,t.default)(n.originalEvent,this.map.getContainer()),r=Math.min(e.boxSelectStartLocation.x,i.x),o=Math.max(e.boxSelectStartLocation.x,i.x),s=Math.min(e.boxSelectStartLocation.y,i.y),c=Math.max(e.boxSelectStartLocation.y,i.y),l="translate(".concat(r,"px, ").concat(s,"px)");e.boxSelectElement.style.transform=l,e.boxSelectElement.style.WebkitTransform=l,e.boxSelectElement.style.width="".concat(o-r,"px"),e.boxSelectElement.style.height="".concat(c-s,"px")},u.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};(0,o.default)(this.getSelected(),n),e.dragMoveLocation=t.lngLat},u.onMouseUp=function(e,n){var i=this;if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){var r=[e.boxSelectStartLocation,(0,t.default)(n.originalEvent,this.map.getContainer())],o=this.featuresAt(null,r,"click"),s=this.getUniqueIds(o).filter(function(e){return!i.isSelected(e)});s.length&&(this.select(s),s.forEach(function(e){return i.doRender(e)}),this.updateUIClasses({mouse:a.cursors.MOVE}))}this.stopExtendedInteractions(e)},u.toDisplayFeatures=function(e,t,i){t.properties.active=this.isSelected(t.properties.id)?a.activeStates.ACTIVE:a.activeStates.INACTIVE,i(t),this.fireActionable(),t.properties.active===a.activeStates.ACTIVE&&t.geometry.type!==a.geojsonTypes.POINT&&(0,n.default)(t).forEach(i)},u.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},u.onCombineFeatures=function(){var e=this.getSelected();if(!(0===e.length||e.length<2)){for(var t=[],n=[],i=e[0].type.replace("Multi",""),r=0;r<e.length;r++){var o=e[r];if(o.type.replace("Multi","")!==i)return;o.type.includes("Multi")?o.getCoordinates().forEach(function(e){t.push(e)}):t.push(o.getCoordinates()),n.push(o.toGeoJSON())}if(n.length>1){var s=this.newFeature({type:a.geojsonTypes.FEATURE,properties:n[0].properties,geometry:{type:"Multi".concat(i),coordinates:t}});this.addFeature(s),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([s.id]),this.map.fire(a.events.COMBINE_FEATURES,{createdFeatures:[s.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},u.onUncombineFeatures=function(){var e=this,t=this.getSelected();if(0!==t.length){for(var n=[],i=[],r=function(r){var o=t[r];e.isInstanceOf("MultiFeature",o)&&(o.getFeatures().forEach(function(t){e.addFeature(t),t.properties=o.properties,n.push(t.toGeoJSON()),e.select([t.id])}),e.deleteFeature(o.id,{silent:!0}),i.push(o.toGeoJSON()))},o=0;o<t.length;o++)r(o);n.length>1&&this.map.fire(a.events.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:i}),this.fireActionable()}};var d=u;exports.default=d;
},{"../lib/common_selectors":"So3z","../lib/mouse_event_point":"bKiU","../lib/create_supplementary_points":"ptOM","../lib/string_set":"fOeC","../lib/double_click_zoom":"SKQ3","../lib/move_features":"aArV","../constants":"N5Pn"}],"r2FU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../lib/common_selectors"),t=c(require("../lib/create_supplementary_points")),o=c(require("../lib/constrain_feature_movement")),r=c(require("../lib/double_click_zoom")),a=s(require("../constants")),i=c(require("../lib/move_features"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o}function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,e.isOfMetaType)(a.meta.VERTEX),u=(0,e.isOfMetaType)(a.meta.MIDPOINT),l={fireUpdate:function(){this.map.fire(a.events.UPDATE,{action:a.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(e){return e.toGeoJSON()})})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(t,o){this.startDragging(t,o);var r=o.featureTarget.properties,a=t.selectedCoordPaths.indexOf(r.coord_path);(0,e.isShiftDown)(o)||-1!==a?(0,e.isShiftDown)(o)&&-1===a&&t.selectedCoordPaths.push(r.coord_path):t.selectedCoordPaths=[r.coord_path];var i=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(i)},onMidpoint:function(e,t){this.startDragging(e,t);var o=t.featureTarget.properties;e.feature.addCoordinate(o.coord_path,o.lng,o.lat),this.fireUpdate(),e.selectedCoordPaths=[o.coord_path]},pathsToCoordinates:function(e,t){return t.map(function(t){return{feature_id:e,coord_path:t}})},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,o){(0,i.default)(this.getSelected(),o),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,r){for(var i=e.selectedCoordPaths.map(function(t){return e.feature.getCoordinate(t)}),n=i.map(function(e){return{type:a.geojsonTypes.FEATURE,properties:{},geometry:{type:a.geojsonTypes.POINT,coordinates:e}}}),s=(0,o.default)(n,r),c=0;c<i.length;c++){var d=i[c];e.feature.updateCoordinate(e.selectedCoordPaths[c],d[0]+s.lng,d[1]+s.lat)}},clickNoTarget:function(){this.changeMode(a.modes.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(a.modes.SIMPLE_SELECT)},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,o=this.getFeature(t);if(!o)throw new Error("You must provide a featureId to enter direct_select mode");if(o.type===a.geojsonTypes.POINT)throw new TypeError("direct_select mode doesn't handle point features");var i={featureId:t,feature:o,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,i.selectedCoordPaths)),this.setSelected(t),r.default.disable(this),this.setActionableState({trash:!0}),i},onStop:function(){r.default.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,o,r){e.featureId===o.properties.id?(o.properties.active=a.activeStates.ACTIVE,r(o),(0,t.default)(o,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(r)):(o.properties.active=a.activeStates.INACTIVE,r(o)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort(function(e,t){return t.localeCompare(e,"en",{numeric:!0})}).forEach(function(t){return e.feature.removeCoordinate(t)}),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode(a.modes.SIMPLE_SELECT,{}))},onMouseMove:function(t,o){var r=(0,e.isActiveFeature)(o),i=d(o),n=0===t.selectedCoordPaths.length;r&&n?this.updateUIClasses({mouse:a.cursors.MOVE}):i&&!n?this.updateUIClasses({mouse:a.cursors.MOVE}):this.updateUIClasses({mouse:a.cursors.NONE}),this.stopDragging(t)},onMouseOut:function(e){e.dragMoving&&this.fireUpdate()}};l.onTouchStart=l.onMouseDown=function(t,o){return d(o)?this.onVertex(t,o):(0,e.isActiveFeature)(o)?this.onFeature(t,o):u(o)?this.onMidpoint(t,o):void 0},l.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var o={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,o):this.dragFeature(e,t,o),e.dragMoveLocation=t.lngLat}},l.onClick=function(t,o){return(0,e.noTarget)(o)?this.clickNoTarget(t,o):(0,e.isActiveFeature)(o)?this.clickActiveFeature(t,o):(0,e.isInactiveFeature)(o)?this.clickInactive(t,o):void this.stopDragging(t)},l.onTap=function(t,o){return(0,e.noTarget)(o)?this.clickNoTarget(t,o):(0,e.isActiveFeature)(o)?this.clickActiveFeature(t,o):(0,e.isInactiveFeature)(o)?this.clickInactive(t,o):void 0},l.onTouchEnd=l.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)};var h=l;exports.default=h;
},{"../lib/common_selectors":"So3z","../lib/create_supplementary_points":"ptOM","../lib/constrain_feature_movement":"NogZ","../lib/double_click_zoom":"SKQ3","../constants":"N5Pn","../lib/move_features":"aArV"}],"tc2V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../lib/common_selectors")),t=n(require("../constants"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var o={onSetup:function(){var e=this.newFeature({type:t.geojsonTypes.FEATURE,properties:{},geometry:{type:t.geojsonTypes.POINT,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:t.cursors.ADD}),this.activateUIButton(t.types.POINT),this.setActionableState({trash:!0}),{point:e}},stopDrawingAndRemove:function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(t.modes.SIMPLE_SELECT)}};o.onTap=o.onClick=function(e,r){this.updateUIClasses({mouse:t.cursors.MOVE}),e.point.updateCoordinate("",r.lngLat.lng,r.lngLat.lat),this.map.fire(t.events.CREATE,{features:[e.point.toGeoJSON()]}),this.changeMode(t.modes.SIMPLE_SELECT,{featureIds:[e.point.id]})},o.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},o.toDisplayFeatures=function(e,r,n){var o=r.properties.id===e.point.id;if(r.properties.active=o?t.activeStates.ACTIVE:t.activeStates.INACTIVE,!o)return n(r)},o.onTrash=o.stopDrawingAndRemove,o.onKeyUp=function(t,r){if(e.isEscapeKey(r)||e.isEnterKey(r))return this.stopDrawingAndRemove(t,r)};var i=o;exports.default=i;
},{"../lib/common_selectors":"So3z","../constants":"N5Pn"}],"JIKk":[function(require,module,exports) {
"use strict";function t(t,e){return!!t.lngLat&&(t.lngLat.lng===e[0]&&t.lngLat.lat===e[1])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t;exports.default=e;
},{}],"W8BZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../lib/common_selectors")),t=i(require("../lib/double_click_zoom")),o=a(require("../constants")),r=i(require("../lib/is_event_at_coordinates")),n=i(require("../lib/create_vertex"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=r?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]}return o.default=e,t&&t.set(e,o),o}var u={onSetup:function(){var e=this.newFeature({type:o.geojsonTypes.FEATURE,properties:{},geometry:{type:o.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),t.default.disable(this),this.updateUIClasses({mouse:o.cursors.ADD}),this.activateUIButton(o.types.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&(0,r.default)(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:o.cursors.ADD}),e.polygon.updateCoordinate("0.".concat(e.currentVertexPosition),t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate("0.".concat(e.currentVertexPosition),t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},onMouseMove:function(t,r){t.polygon.updateCoordinate("0.".concat(t.currentVertexPosition),r.lngLat.lng,r.lngLat.lat),e.isVertex(r)&&this.updateUIClasses({mouse:o.cursors.POINTER})}};u.onTap=u.onClick=function(t,o){return e.isVertex(o)?this.clickOnVertex(t,o):this.clickAnywhere(t,o)},u.onKeyUp=function(t,r){e.isEscapeKey(r)?(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT)):e.isEnterKey(r)&&this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},u.onStop=function(e){this.updateUIClasses({mouse:o.cursors.NONE}),t.default.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate("0.".concat(e.currentVertexPosition)),e.polygon.isValid()?this.map.fire(o.events.CREATE,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT,{},{silent:!0})))},u.toDisplayFeatures=function(e,t,r){var i=t.properties.id===e.polygon.id;if(t.properties.active=i?o.activeStates.ACTIVE:o.activeStates.INACTIVE,!i)return r(t);if(0!==t.geometry.coordinates.length){var s=t.geometry.coordinates[0].length;if(!(s<3)){if(t.properties.meta=o.meta.FEATURE,r((0,n.default)(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),s>3){var a=t.geometry.coordinates[0].length-3;r((0,n.default)(e.polygon.id,t.geometry.coordinates[0][a],"0.".concat(a),!1))}if(s<=4){var u=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(r({type:o.geojsonTypes.FEATURE,properties:t.properties,geometry:{coordinates:u,type:o.geojsonTypes.LINE_STRING}}),3===s)return}return r(t)}}},u.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT)};var c=u;exports.default=c;
},{"../lib/common_selectors":"So3z","../lib/double_click_zoom":"SKQ3","../constants":"N5Pn","../lib/is_event_at_coordinates":"JIKk","../lib/create_vertex":"jr5c"}],"HwlF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../lib/common_selectors")),t=i(require("../lib/is_event_at_coordinates")),r=i(require("../lib/double_click_zoom")),o=s(require("../constants")),n=i(require("../lib/create_vertex"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function c(e){return f(e)||l(e)||u(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function l(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var h={onSetup:function(e){var t,n,i=(e=e||{}).featureId,a="forward";if(i){if(!(t=this.getFeature(i)))throw new Error("Could not find a feature with the provided featureId");var s=e.from;if(s&&"Feature"===s.type&&s.geometry&&"Point"===s.geometry.type&&(s=s.geometry),s&&"Point"===s.type&&s.coordinates&&2===s.coordinates.length&&(s=s.coordinates),!s||!Array.isArray(s))throw new Error("Please use the `from` property to indicate which point to continue the line from");var d=t.coordinates.length-1;if(t.coordinates[d][0]===s[0]&&t.coordinates[d][1]===s[1]){var u;n=d+1,(u=t).addCoordinate.apply(u,[n].concat(c(t.coordinates[d])))}else{if(t.coordinates[0][0]!==s[0]||t.coordinates[0][1]!==s[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");var l;a="backwards",n=0,(l=t).addCoordinate.apply(l,[n].concat(c(t.coordinates[0])))}}else t=this.newFeature({type:o.geojsonTypes.FEATURE,properties:{},geometry:{type:o.geojsonTypes.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(t);return this.clearSelectedFeatures(),r.default.disable(this),this.updateUIClasses({mouse:o.cursors.ADD}),this.activateUIButton(o.types.LINE),this.setActionableState({trash:!0}),{line:t,currentVertexPosition:n,direction:a}},clickAnywhere:function(e,r){if(e.currentVertexPosition>0&&(0,t.default)(r,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&(0,t.default)(r,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:o.cursors.ADD}),e.line.updateCoordinate(e.currentVertexPosition,r.lngLat.lng,r.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,r.lngLat.lng,r.lngLat.lat)):e.line.addCoordinate(0,r.lngLat.lng,r.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(t,r){t.line.updateCoordinate(t.currentVertexPosition,r.lngLat.lng,r.lngLat.lat),e.isVertex(r)&&this.updateUIClasses({mouse:o.cursors.POINTER})}};h.onTap=h.onClick=function(t,r){if(e.isVertex(r))return this.clickOnVertex(t,r);this.clickAnywhere(t,r)},h.onKeyUp=function(t,r){e.isEnterKey(r)?this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[t.line.id]}):e.isEscapeKey(r)&&(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT))},h.onStop=function(e){r.default.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate("".concat(e.currentVertexPosition)),e.line.isValid()?this.map.fire(o.events.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT,{},{silent:!0})))},h.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT)},h.toDisplayFeatures=function(e,t,r){var i=t.properties.id===e.line.id;if(t.properties.active=i?o.activeStates.ACTIVE:o.activeStates.INACTIVE,!i)return r(t);t.geometry.coordinates.length<2||(t.properties.meta=o.meta.FEATURE,r((0,n.default)(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],"".concat("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),r(t))};var y=h;exports.default=y;
},{"../lib/common_selectors":"So3z","../lib/is_event_at_coordinates":"JIKk","../lib/double_click_zoom":"SKQ3","../constants":"N5Pn","../lib/create_vertex":"jr5c"}],"CDBC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./simple_select")),r=i(require("./direct_select")),t=i(require("./draw_point")),l=i(require("./draw_polygon")),d=i(require("./draw_line_string"));function i(e){return e&&e.__esModule?e:{default:e}}var u={simple_select:e.default,direct_select:r.default,draw_point:t.default,draw_polygon:l.default,draw_line_string:d.default};exports.default=u;
},{"./simple_select":"VNLb","./direct_select":"r2FU","./draw_point":"tc2V","./draw_polygon":"W8BZ","./draw_line_string":"HwlF"}],"J7cA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var e=s(require("xtend")),t=u(require("./constants")),r=s(require("./lib/theme")),o=s(require("./modes/index"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function s(e){return e&&e.__esModule?e:{default:e}}var l={defaultMode:t.modes.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:r.default,modes:o.default,controls:{},userProperties:!1},c={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},i={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function a(r,o){return r.map(function(r){return r.source?r:(0,e.default)(r,{id:"".concat(r.id,".").concat(o),source:"hot"===o?t.sources.HOT:t.sources.COLD})})}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,e.default)(t);return t.controls||(r.controls={}),!1===t.displayControlsDefault?r.controls=(0,e.default)(i,t.controls):r.controls=(0,e.default)(c,t.controls),(r=(0,e.default)(l,r)).styles=a(r.styles,"cold").concat(a(r.styles,"hot")),r}
},{"xtend":"YxsI","./constants":"N5Pn","./lib/theme":"RCsa","./modes/index":"CDBC"}],"RSRz":[function(require,module,exports) {
var global = arguments[3];

var t=arguments[3],e=200,r="__lodash_hash_undefined__",n=1,o=2,i=9007199254740991,u="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",s="[object Boolean]",f="[object Date]",l="[object Error]",_="[object Function]",h="[object GeneratorFunction]",p="[object Map]",v="[object Number]",y="[object Null]",b="[object Object]",d="[object Promise]",g="[object Proxy]",j="[object RegExp]",w="[object Set]",m="[object String]",z="[object Symbol]",A="[object Undefined]",O="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",k="[object Float32Array]",E="[object Float64Array]",F="[object Int8Array]",P="[object Int16Array]",$="[object Int32Array]",U="[object Uint8Array]",B="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",T=/[\\^$.*+?()[\]{}|]/g,M=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,R={};R[k]=R[E]=R[F]=R[P]=R[$]=R[U]=R[B]=R[I]=R[L]=!0,R[u]=R[a]=R[S]=R[s]=R[x]=R[f]=R[l]=R[_]=R[p]=R[v]=R[b]=R[j]=R[w]=R[m]=R[O]=!1;var C="object"==typeof t&&t&&t.Object===Object&&t,N="object"==typeof self&&self&&self.Object===Object&&self,V=C||N||Function("return this")(),W="object"==typeof exports&&exports&&!exports.nodeType&&exports,G=W&&"object"==typeof module&&module&&!module.nodeType&&module,q=G&&G.exports===W,H=q&&C.process,J=function(){try{return H&&H.binding&&H.binding("util")}catch(t){}}(),K=J&&J.isTypedArray;function Q(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}function X(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function Y(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Z(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function tt(t){return function(e){return t(e)}}function et(t,e){return t.has(e)}function rt(t,e){return null==t?void 0:t[e]}function nt(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function ot(t,e){return function(r){return t(e(r))}}function it(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var ut=Array.prototype,at=Function.prototype,ct=Object.prototype,st=V["__core-js_shared__"],ft=at.toString,lt=ct.hasOwnProperty,_t=function(){var t=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ht=ct.toString,pt=RegExp("^"+ft.call(lt).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=q?V.Buffer:void 0,yt=V.Symbol,bt=V.Uint8Array,dt=ct.propertyIsEnumerable,gt=ut.splice,jt=yt?yt.toStringTag:void 0,wt=Object.getOwnPropertySymbols,mt=vt?vt.isBuffer:void 0,zt=ot(Object.keys,Object),At=Oe(V,"DataView"),Ot=Oe(V,"Map"),St=Oe(V,"Promise"),xt=Oe(V,"Set"),kt=Oe(V,"WeakMap"),Et=Oe(Object,"create"),Ft=Be(At),Pt=Be(Ot),$t=Be(St),Ut=Be(xt),Bt=Be(kt),It=yt?yt.prototype:void 0,Lt=It?It.valueOf:void 0;function Tt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Mt(){this.__data__=Et?Et(null):{},this.size=0}function Dt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Rt(t){var e=this.__data__;if(Et){var n=e[t];return n===r?void 0:n}return lt.call(e,t)?e[t]:void 0}function Ct(t){var e=this.__data__;return Et?void 0!==e[t]:lt.call(e,t)}function Nt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Et&&void 0===e?r:e,this}function Vt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wt(){this.__data__=[],this.size=0}function Gt(t){var e=this.__data__,r=le(e,t);return!(r<0)&&(r==e.length-1?e.pop():gt.call(e,r,1),--this.size,!0)}function qt(t){var e=this.__data__,r=le(e,t);return r<0?void 0:e[r][1]}function Ht(t){return le(this.__data__,t)>-1}function Jt(t,e){var r=this.__data__,n=le(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Kt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Qt(){this.size=0,this.__data__={hash:new Tt,map:new(Ot||Vt),string:new Tt}}function Xt(t){var e=Ae(this,t).delete(t);return this.size-=e?1:0,e}function Yt(t){return Ae(this,t).get(t)}function Zt(t){return Ae(this,t).has(t)}function te(t,e){var r=Ae(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function ee(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Kt;++e<r;)this.add(t[e])}function re(t){return this.__data__.set(t,r),this}function ne(t){return this.__data__.has(t)}function oe(t){var e=this.__data__=new Vt(t);this.size=e.size}function ie(){this.__data__=new Vt,this.size=0}function ue(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function ae(t){return this.__data__.get(t)}function ce(t){return this.__data__.has(t)}function se(t,r){var n=this.__data__;if(n instanceof Vt){var o=n.__data__;if(!Ot||o.length<e-1)return o.push([t,r]),this.size=++n.size,this;n=this.__data__=new Kt(o)}return n.set(t,r),this.size=n.size,this}function fe(t,e){var r=Te(t),n=!r&&Le(t),o=!r&&!n&&De(t),i=!r&&!n&&!o&&Ge(t),u=r||n||o||i,a=u?Z(t.length,String):[],c=a.length;for(var s in t)!e&&!lt.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ee(s,c))||a.push(s);return a}function le(t,e){for(var r=t.length;r--;)if(Ie(t[r][0],e))return r;return-1}function _e(t,e,r){var n=e(t);return Te(t)?n:X(n,r(t))}function he(t){return null==t?void 0===t?A:y:jt&&jt in Object(t)?Se(t):Ue(t)}function pe(t){return We(t)&&he(t)==u}function ve(t,e,r,n,o){return t===e||(null==t||null==e||!We(t)&&!We(e)?t!=t&&e!=e:ye(t,e,r,n,ve,o))}function ye(t,e,r,o,i,c){var s=Te(t),f=Te(e),l=s?a:ke(t),_=f?a:ke(e),h=(l=l==u?b:l)==b,p=(_=_==u?b:_)==b,v=l==_;if(v&&De(t)){if(!De(e))return!1;s=!0,h=!1}if(v&&!h)return c||(c=new oe),s||Ge(t)?je(t,e,r,o,i,c):we(t,e,l,r,o,i,c);if(!(r&n)){var y=h&&lt.call(t,"__wrapped__"),d=p&&lt.call(e,"__wrapped__");if(y||d){var g=y?t.value():t,j=d?e.value():e;return c||(c=new oe),i(g,j,r,o,c)}}return!!v&&(c||(c=new oe),me(t,e,r,o,i,c))}function be(t){return!(!Ve(t)||Pe(t))&&(Ce(t)?pt:M).test(Be(t))}function de(t){return We(t)&&Ne(t.length)&&!!R[he(t)]}function ge(t){if(!$e(t))return zt(t);var e=[];for(var r in Object(t))lt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function je(t,e,r,i,u,a){var c=r&n,s=t.length,f=e.length;if(s!=f&&!(c&&f>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var _=-1,h=!0,p=r&o?new ee:void 0;for(a.set(t,e),a.set(e,t);++_<s;){var v=t[_],y=e[_];if(i)var b=c?i(y,v,_,e,t,a):i(v,y,_,t,e,a);if(void 0!==b){if(b)continue;h=!1;break}if(p){if(!Y(e,function(t,e){if(!et(p,e)&&(v===t||u(v,t,r,i,a)))return p.push(e)})){h=!1;break}}else if(v!==y&&!u(v,y,r,i,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function we(t,e,r,i,u,a,c){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!a(new bt(t),new bt(e)));case s:case f:case v:return Ie(+t,+e);case l:return t.name==e.name&&t.message==e.message;case j:case m:return t==e+"";case p:var _=nt;case w:var h=i&n;if(_||(_=it),t.size!=e.size&&!h)return!1;var y=c.get(t);if(y)return y==e;i|=o,c.set(t,e);var b=je(_(t),_(e),i,u,a,c);return c.delete(t),b;case z:if(Lt)return Lt.call(t)==Lt.call(e)}return!1}function me(t,e,r,o,i,u){var a=r&n,c=ze(t),s=c.length;if(s!=ze(e).length&&!a)return!1;for(var f=s;f--;){var l=c[f];if(!(a?l in e:lt.call(e,l)))return!1}var _=u.get(t);if(_&&u.get(e))return _==e;var h=!0;u.set(t,e),u.set(e,t);for(var p=a;++f<s;){var v=t[l=c[f]],y=e[l];if(o)var b=a?o(y,v,l,e,t,u):o(v,y,l,t,e,u);if(!(void 0===b?v===y||i(v,y,r,o,u):b)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var d=t.constructor,g=e.constructor;d!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof d&&d instanceof d&&"function"==typeof g&&g instanceof g)&&(h=!1)}return u.delete(t),u.delete(e),h}function ze(t){return _e(t,qe,xe)}function Ae(t,e){var r=t.__data__;return Fe(e)?r["string"==typeof e?"string":"hash"]:r.map}function Oe(t,e){var r=rt(t,e);return be(r)?r:void 0}function Se(t){var e=lt.call(t,jt),r=t[jt];try{t[jt]=void 0;var n=!0}catch(i){}var o=ht.call(t);return n&&(e?t[jt]=r:delete t[jt]),o}Tt.prototype.clear=Mt,Tt.prototype.delete=Dt,Tt.prototype.get=Rt,Tt.prototype.has=Ct,Tt.prototype.set=Nt,Vt.prototype.clear=Wt,Vt.prototype.delete=Gt,Vt.prototype.get=qt,Vt.prototype.has=Ht,Vt.prototype.set=Jt,Kt.prototype.clear=Qt,Kt.prototype.delete=Xt,Kt.prototype.get=Yt,Kt.prototype.has=Zt,Kt.prototype.set=te,ee.prototype.add=ee.prototype.push=re,ee.prototype.has=ne,oe.prototype.clear=ie,oe.prototype.delete=ue,oe.prototype.get=ae,oe.prototype.has=ce,oe.prototype.set=se;var xe=wt?function(t){return null==t?[]:(t=Object(t),Q(wt(t),function(e){return dt.call(t,e)}))}:He,ke=he;function Ee(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Fe(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Pe(t){return!!_t&&_t in t}function $e(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ct)}function Ue(t){return ht.call(t)}function Be(t){if(null!=t){try{return ft.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ie(t,e){return t===e||t!=t&&e!=e}(At&&ke(new At(new ArrayBuffer(1)))!=x||Ot&&ke(new Ot)!=p||St&&ke(St.resolve())!=d||xt&&ke(new xt)!=w||kt&&ke(new kt)!=O)&&(ke=function(t){var e=he(t),r=e==b?t.constructor:void 0,n=r?Be(r):"";if(n)switch(n){case Ft:return x;case Pt:return p;case $t:return d;case Ut:return w;case Bt:return O}return e});var Le=pe(function(){return arguments}())?pe:function(t){return We(t)&&lt.call(t,"callee")&&!dt.call(t,"callee")},Te=Array.isArray;function Me(t){return null!=t&&Ne(t.length)&&!Ce(t)}var De=mt||Je;function Re(t,e){return ve(t,e)}function Ce(t){if(!Ve(t))return!1;var e=he(t);return e==_||e==h||e==c||e==g}function Ne(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Ve(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function We(t){return null!=t&&"object"==typeof t}var Ge=K?tt(K):de;function qe(t){return Me(t)?fe(t):ge(t)}function He(){return[]}function Je(){return!1}module.exports=Re;
},{}],"Kx5L":[function(require,module,exports) {
"use strict";function t(t,e){return t.length===e.length&&JSON.stringify(t.map(function(t){return t}).sort())===JSON.stringify(e.map(function(t){return t}).sort())}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"KVVd":[function(require,module,exports) {

},{}],"g5IB":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"sNrv":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function e(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,o="/"===i.charAt(0))}return(o?"/":"")+(e=t(n(e.split("/"),function(r){return!!r}),!o).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),s="/"===o(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var f=[];for(u=i;u<n.length;u++)f.push("..");return(f=f.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var n=e(r);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"g5IB"}],"l9fz":[function(require,module,exports) {
var process = require("process");
var t=require("process"),e=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,12],i=[1,13],n=[1,9],s=[1,10],r=[1,11],h=[1,14],o=[1,15],l=[14,18,22,24],a=[18,22],c=[22,24],u={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,i,n,s,r,h){var o=r.length-1;switch(s){case 1:this.$=t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=r[o-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=r[o-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[r[o-2],r[o]];break;case 16:this.$={},this.$[r[o][0]]=r[o][1];break;case 17:this.$=r[o-2],void 0!==r[o-2][r[o][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(r[o][0])),r[o-2][r[o][0]]=r[o][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[r[o]];break;case 21:this.$=r[o-2],r[o-2].push(r[o])}},table:[{3:5,4:e,5:6,6:i,7:3,8:n,9:4,10:s,11:r,12:1,13:2,15:7,16:8,17:h,23:o},{1:[3]},{14:[1,16]},t(l,[2,7]),t(l,[2,8]),t(l,[2,9]),t(l,[2,10]),t(l,[2,11]),t(l,[2,12]),t(l,[2,3]),t(l,[2,4]),t(l,[2,5]),t([14,18,21,22,24],[2,1]),t(l,[2,2]),{3:20,4:e,18:[1,17],19:18,20:19},{3:5,4:e,5:6,6:i,7:3,8:n,9:4,10:s,11:r,13:23,15:7,16:8,17:h,23:o,24:[1,21],25:22},{1:[2,6]},t(l,[2,13]),{18:[1,24],22:[1,25]},t(a,[2,16]),{21:[1,26]},t(l,[2,18]),{22:[1,28],24:[1,27]},t(c,[2,20]),t(l,[2,14]),{3:20,4:e,20:29},{3:5,4:e,5:6,6:i,7:3,8:n,9:4,10:s,11:r,13:30,15:7,16:8,17:h,23:o},t(l,[2,19]),{3:5,4:e,5:6,6:i,7:3,8:n,9:4,10:s,11:r,13:31,15:7,16:8,17:h,23:o},t(a,[2,17]),t(a,[2,15]),t(c,[2,21])],defaultActions:{16:[2,6]},parseError:function(t,e){if(!e.recoverable){function i(t,e){this.message=t,this.hash=e}throw i.prototype=Error,new i(t,e)}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],s=[],r=this.table,h="",o=0,l=0,a=0,c=s.slice.call(arguments,1),u=Object.create(this.lexer),y={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(y.yy[p]=this.yy[p]);u.setInput(t,y.yy),y.yy.lexer=u,y.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var f=u.yylloc;s.push(f);var _=u.options&&u.options.ranges;"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,m,d,b,k,x,S,v,$,E=function(){var t;return"number"!=typeof(t=u.lex()||1)&&(t=e.symbols_[t]||t),t},O={};;){if(d=i[i.length-1],this.defaultActions[d]?b=this.defaultActions[d]:(null==g&&(g=E()),b=r[d]&&r[d][g]),void 0===b||!b.length||!b[0]){var N="";for(x in $=[],r[d])this.terminals_[x]&&x>2&&$.push("'"+this.terminals_[x]+"'");N=u.showPosition?"Parse error on line "+(o+1)+":\n"+u.showPosition()+"\nExpecting "+$.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(N,{text:u.match,token:this.terminals_[g]||g,line:u.yylineno,loc:f,expected:$})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+g);switch(b[0]){case 1:i.push(g),n.push(u.yytext),s.push(u.yylloc),i.push(b[1]),g=null,m?(g=m,m=null):(l=u.yyleng,h=u.yytext,o=u.yylineno,f=u.yylloc,a>0&&a--);break;case 2:if(S=this.productions_[b[1]][1],O.$=n[n.length-S],O._$={first_line:s[s.length-(S||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(S||1)].first_column,last_column:s[s.length-1].last_column},_&&(O._$.range=[s[s.length-(S||1)].range[0],s[s.length-1].range[1]]),void 0!==(k=this.performAction.apply(O,[h,l,o,y.yy,b[1],n,s].concat(c))))return k;S&&(i=i.slice(0,-1*S*2),n=n.slice(0,-1*S),s=s.slice(0,-1*S)),i.push(this.productions_[b[1]][0]),n.push(O.$),s.push(O._$),v=r[i[i.length-2]][i[i.length-1]],i.push(v);break;case 3:return!0}}return!0}},y={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var r in s)this[r]=s[r];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;r<s.length;r++)if((i=this._input.match(this.rules[s[r]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,s[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,s[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,i,n){switch(i){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function p(){this.yy={}}return u.lexer=y,p.prototype=u,u.Parser=p,new p}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=e,exports.Parser=e.Parser,exports.parse=function(){return e.parse.apply(e,arguments)},exports.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),t.exit(1));var i=require("fs").readFileSync(require("path").normalize(e[1]),"utf8");return exports.parser.parse(i)},"undefined"!=typeof module&&require.main===module&&exports.main(t.argv.slice(1)));
},{"fs":"KVVd","path":"sNrv","process":"g5IB"}],"Vo4E":[function(require,module,exports) {
function n(n){return n*Math.PI/180}function e(e){var t=0;if(e.length>2)for(var o,r,i=0;i<e.length-1;i++)o=e[i],t+=n((r=e[i+1])[0]-o[0])*(2+Math.sin(n(o[1]))+Math.sin(n(r[1])));return t>=0}function t(n){if(n&&n.length>0){if(e(n[0]))return!1;if(!n.slice(1,n.length).every(e))return!1}return!0}function o(n){return"Polygon"===n.type?t(n.coordinates):"MultiPolygon"===n.type?n.coordinates.every(t):void 0}module.exports=function(n,e){o(n)||e.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:n.__line__})};
},{}],"q404":[function(require,module,exports) {
var e=require("./rhr");function n(n,t){var i=[],o=0,r=10,s=6;function a(e){if(t&&!1===t.noDuplicateMembers||!e.__duplicateProperties__||i.push({message:"An object contained duplicate members, making parsing ambigous: "+e.__duplicateProperties__.join(", "),line:e.__line__}),!u(e,"type","string"))if(g[e.type])e&&g[e.type](e);else{var n=p[e.type.toLowerCase()];void 0!==n?i.push({message:"Expected "+n+" but got "+e.type+" (case sensitive)",line:e.__line__}):i.push({message:"The type "+e.type+" is unknown",line:e.__line__})}}function l(e,n){return e.every(function(e){return null!==e&&typeof e===n})}function u(e,n,t){if(void 0===e[n])return i.push({message:'"'+n+'" member required',line:e.__line__});if("array"===t){if(!Array.isArray(e[n]))return i.push({message:'"'+n+'" member should be an array, but is an '+typeof e[n]+" instead",line:e.__line__})}else{if("object"===t&&e[n]&&e[n].constructor!==Object)return i.push({message:'"'+n+'" member should be '+t+", but is an "+e[n].constructor.name+" instead",line:e.__line__});if(t&&typeof e[n]!==t)return i.push({message:'"'+n+'" member should be '+t+", but is an "+typeof e[n]+" instead",line:e.__line__})}}function m(e,n){if(!Array.isArray(e))return i.push({message:"position should be an array, is a "+typeof e+" instead",line:e.__line__||n});if(e.length<2)return i.push({message:"position must have 2 or more elements",line:e.__line__||n});if(e.length>3)return i.push({message:"position should not have more than 3 elements",level:"message",line:e.__line__||n});if(!l(e,"number"))return i.push({message:"each element in a position must be a number",line:e.__line__||n});if(t&&t.precisionWarning){if(o===r)return o+=1,i.push({message:"truncated warnings: we've encountered coordinate precision warning "+r+" times, no more warnings will be reported",level:"message",line:e.__line__||n});o<r&&e.forEach(function(t){var r=0,a=String(t).split(".")[1];if(void 0!==a&&(r=a.length),r>s)return o+=1,i.push({message:"precision of coordinates should be reduced",level:"message",line:e.__line__||n})})}}function _(e,n,t,o){if(void 0===o&&void 0!==e.__line__&&(o=e.__line__),0===t)return m(e,o);if(1===t&&n)if("LinearRing"===n){if(!Array.isArray(e[e.length-1]))return i.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:o}),!0;if(e.length<4&&i.push({message:"a LinearRing of coordinates needs to have four or more positions",line:o}),e.length&&(e[e.length-1].length!==e[0].length||!e[e.length-1].every(function(n,t){return e[0][t]===n})))return i.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:o}),!0}else if("Line"===n&&e.length<2)return i.push({message:"a line needs to have two or more coordinates to be valid",line:o});if(Array.isArray(e))return e.map(function(e){return _(e,n,t-1,e.__line__||o)}).some(function(e){return e});i.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:o})}function c(e){if(e.crs){"object"==typeof e.crs&&e.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"===e.crs.properties.name?i.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:e.__line__}):i.push({message:"old-style crs member is not recommended",line:e.__line__})}}function d(e){if(e.bbox)return Array.isArray(e.bbox)?(l(e.bbox,"number")||i.push({message:"each element in a bbox member must be a number",line:e.bbox.__line__}),4!==e.bbox.length&&6!==e.bbox.length&&i.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:e.bbox.__line__}),i.length):void i.push({message:"bbox member must be an array of numbers, but is a "+typeof e.bbox,line:e.__line__})}function b(e){c(e),d(e),void 0!==e.id&&"string"!=typeof e.id&&"number"!=typeof e.id&&i.push({message:'Feature "id" member must have a string or number value',line:e.__line__}),void 0!==e.features&&i.push({message:'Feature object cannot contain a "features" member',line:e.__line__}),void 0!==e.coordinates&&i.push({message:'Feature object cannot contain a "coordinates" member',line:e.__line__}),"Feature"!==e.type&&i.push({message:"GeoJSON features must have a type=feature member",line:e.__line__}),u(e,"properties","object"),u(e,"geometry","object")||e.geometry&&a(e.geometry)}var g={Point:function(e){var n;c(e),d(e),void 0!==(n=e).properties&&i.push({message:'geometry object cannot contain a "properties" member',line:n.__line__}),void 0!==n.geometry&&i.push({message:'geometry object cannot contain a "geometry" member',line:n.__line__}),void 0!==n.features&&i.push({message:'geometry object cannot contain a "features" member',line:n.__line__}),u(e,"coordinates","array")||m(e.coordinates)},Feature:b,MultiPoint:function(e){c(e),d(e),u(e,"coordinates","array")||_(e.coordinates,"",1)},LineString:function(e){c(e),d(e),u(e,"coordinates","array")||_(e.coordinates,"Line",1)},MultiLineString:function(e){c(e),d(e),u(e,"coordinates","array")||_(e.coordinates,"Line",2)},FeatureCollection:function(e){if(c(e),d(e),void 0!==e.properties&&i.push({message:'FeatureCollection object cannot contain a "properties" member',line:e.__line__}),void 0!==e.coordinates&&i.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:e.__line__}),!u(e,"features","array")){if(!l(e.features,"object"))return i.push({message:"Every feature must be an object",line:e.__line__});e.features.forEach(b)}},GeometryCollection:function(e){c(e),d(e),u(e,"geometries","array")||(l(e.geometries,"object")||i.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:e.__line__}),1===e.geometries.length&&i.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:e.geometries.__line__}),e.geometries.forEach(function(n){n&&("GeometryCollection"===n.type&&i.push({message:"GeometryCollection should avoid nested geometry collections",line:e.geometries.__line__}),a(n))}))},Polygon:function(n){c(n),d(n),u(n,"coordinates","array")||_(n.coordinates,"LinearRing",2)||e(n,i)},MultiPolygon:function(n){c(n),d(n),u(n,"coordinates","array")||_(n.coordinates,"LinearRing",3)||e(n,i)}},p=Object.keys(g).reduce(function(e,n){return e[n.toLowerCase()]=n,e},{});return"object"!=typeof n||null==n?(i.push({message:"The root of a GeoJSON object must be an object.",line:0}),i):(a(n),i.forEach(function(e){({}).hasOwnProperty.call(e,"line")&&void 0===e.line&&delete e.line}),i)}module.exports.hint=n;
},{"./rhr":"Vo4E"}],"mCeB":[function(require,module,exports) {
var e=require("jsonlint-lines"),r=require("./object");function t(t,n){var s,i=[];if("object"==typeof t)s=t;else{if("string"!=typeof t)return[{message:"Expected string or object as input",line:0}];try{s=e.parse(t)}catch(o){var a=o.message.match(/line (\d+)/);return[{line:parseInt(a[1],10)-1,message:o.message,error:o}]}}return i=i.concat(r.hint(s,n))}module.exports.hint=t;
},{"jsonlint-lines":"l9fz","./object":"q404"}],"UkQY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=E;var e=p(require("lodash.isequal")),t=p(require("@mapbox/geojson-normalize")),r=p(require("hat")),n=p(require("./lib/features_at")),o=p(require("./lib/string_sets_are_equal")),s=p(require("@mapbox/geojsonhint")),i=g(require("./constants")),u=p(require("./lib/string_set")),a=p(require("./feature_types/polygon")),d=p(require("./feature_types/line_string")),l=p(require("./feature_types/point")),f=p(require("./feature_types/multi_feature"));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function p(e){return e&&e.__esModule?e:{default:e}}var y={Polygon:a.default,LineString:d.default,Point:l.default,MultiPolygon:f.default,MultiLineString:f.default,MultiPoint:f.default};function E(a,d){return d.modes=i.modes,d.getFeatureIdsAt=function(e){return n.default.click({point:e},null,a).map(function(e){return e.properties.id})},d.getSelectedIds=function(){return a.store.getSelectedIds()},d.getSelected=function(){return{type:i.geojsonTypes.FEATURE_COLLECTION,features:a.store.getSelectedIds().map(function(e){return a.store.get(e)}).map(function(e){return e.toGeoJSON()})}},d.getSelectedPoints=function(){return{type:i.geojsonTypes.FEATURE_COLLECTION,features:a.store.getSelectedCoordinates().map(function(e){return{type:i.geojsonTypes.FEATURE,properties:{},geometry:{type:i.geojsonTypes.POINT,coordinates:e.coordinates}}})}},d.set=function(e){if(void 0===e.type||e.type!==i.geojsonTypes.FEATURE_COLLECTION||!Array.isArray(e.features))throw new Error("Invalid FeatureCollection");var t=a.store.createRenderBatch(),r=a.store.getAllIds().slice(),n=d.add(e),o=new u.default(n);return(r=r.filter(function(e){return!o.has(e)})).length&&d.delete(r),t(),n},d.add=function(n){var o=s.default.hint(n,{precisionWarning:!1}).filter(function(e){return"message"!==e.level});if(o.length)throw new Error(o[0].message);var i=JSON.parse(JSON.stringify((0,t.default)(n))).features.map(function(t){if(t.id=t.id||(0,r.default)(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===a.store.get(t.id)||a.store.get(t.id).type!==t.geometry.type){var n=y[t.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: ".concat(t.geometry.type,"."));var o=new n(a,t);a.store.add(o)}else{var s=a.store.get(t.id);s.properties=t.properties,(0,e.default)(s.getCoordinates(),t.geometry.coordinates)||s.incomingCoords(t.geometry.coordinates)}return t.id});return a.store.render(),i},d.get=function(e){var t=a.store.get(e);if(t)return t.toGeoJSON()},d.getAll=function(){return{type:i.geojsonTypes.FEATURE_COLLECTION,features:a.store.getAll().map(function(e){return e.toGeoJSON()})}},d.delete=function(e){return a.store.delete(e,{silent:!0}),d.getMode()!==i.modes.DIRECT_SELECT||a.store.getSelectedIds().length?a.store.render():a.events.changeMode(i.modes.SIMPLE_SELECT,void 0,{silent:!0}),d},d.deleteAll=function(){return a.store.delete(a.store.getAllIds(),{silent:!0}),d.getMode()===i.modes.DIRECT_SELECT?a.events.changeMode(i.modes.SIMPLE_SELECT,void 0,{silent:!0}):a.store.render(),d},d.changeMode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e===i.modes.SIMPLE_SELECT&&d.getMode()===i.modes.SIMPLE_SELECT?(0,o.default)(t.featureIds||[],a.store.getSelectedIds())?d:(a.store.setSelected(t.featureIds,{silent:!0}),a.store.render(),d):e===i.modes.DIRECT_SELECT&&d.getMode()===i.modes.DIRECT_SELECT&&t.featureId===a.store.getSelectedIds()[0]?d:(a.events.changeMode(e,t,{silent:!0}),d)},d.getMode=function(){return a.events.getMode()},d.trash=function(){return a.events.trash({silent:!0}),d},d.combineFeatures=function(){return a.events.combineFeatures({silent:!0}),d},d.uncombineFeatures=function(){return a.events.uncombineFeatures({silent:!0}),d},d.setFeatureProperty=function(e,t,r){return a.store.setFeatureProperty(e,t,r),d},d}
},{"lodash.isequal":"RSRz","@mapbox/geojson-normalize":"lU0K","hat":"ml3q","./lib/features_at":"YEGt","./lib/string_sets_are_equal":"Kx5L","@mapbox/geojsonhint":"mCeB","./constants":"N5Pn","./lib/string_set":"fOeC","./feature_types/polygon":"YpRw","./feature_types/line_string":"AtGh","./feature_types/point":"Y6r3","./feature_types/multi_feature":"NE5a"}],"Y7aM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./src/setup")),t=a(require("./src/options")),r=a(require("./src/api")),n=i(require("./src/constants")),o=a(require("./src/modes/index"));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function a(e){return e&&e.__esModule?e:{default:e}}var s=function(o,u){var i={options:o=(0,t.default)(o)};u=(0,r.default)(i,u),i.api=u;var a=(0,e.default)(i);return u.onAdd=a.onAdd,u.onRemove=a.onRemove,u.types=n.types,u.options=o,u};function f(e){s(e,this)}f.modes=o.default;var p=f;exports.default=p;
},{"./src/setup":"gGRp","./src/options":"J7cA","./src/api":"UkQY","./src/constants":"N5Pn","./src/modes/index":"CDBC"}],"kT0B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},e={POLYGON:"polygon",LINE:"line_string",POINT:"point"},i={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},l={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},n={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},a={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},o={ACTIVE:"true",INACTIVE:"false"},r=function(t){const e=t.featureTarget;return!!e&&!!e.properties&&e.properties.meta===a.VERTEX},c=function(t){return 27===t.keyCode},s=function(t){return 13===t.keyCode},d=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];function p(t){return{enable:function(e){setTimeout(function(){e.map&&e.map[t]&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue(t)&&e.map[t].enable()},0)},disable(e){setTimeout(function(){e.map&&e.map[t]&&e.map[t].disable()},0)}}}const g=p("doubleClickZoom"),u=p("dragPan"),f={onSetup:function({inspect:l,onInvalid:n,callInvalidOnce:a=!1,allowCreateInvalid:o=!1,stopOnEscape:r=!0}){const c=this.newFeature({type:i.FEATURE,properties:{},geometry:{type:i.POLYGON,coordinates:[[]]}});return this.addFeature(c),this.clearSelectedFeatures(),g.disable(this),u.disable(this),this.updateUIClasses({mouse:t.ADD}),this.activateUIButton(e.POLYGON),this.setActionableState({trash:!0}),l&&(this.inspect=l),this.allowCreateInvalid=o,this.callInvalidOnce=a,this.stopOnEscape=r,n&&(this.onInvalid=n),{rectangle:c,dragMoving:!1,isRectangleInvalid:!1}},onClick:function(e,i){if(e.startPoint)e.startPoint&&e.startPoint[0]!==i.lngLat.lng&&e.startPoint[1]!==i.lngLat.lat&&e.dragMoving&&(!e.isRectangleInvalid||this.allowCreateInvalid)&&(this.updateUIClasses({mouse:"pointer"}),e.endPoint=[i.lngLat.lng,i.lngLat.lat],this.changeMode(l.SIMPLE_SELECT,{featureIds:[e.rectangle.id]}));else{const l=[i.lngLat.lng,i.lngLat.lat];e.startPoint=l,this.updateUIClasses({mouse:t.ADD}),e.rectangle.updateCoordinate("0.0",i.lngLat.lng,i.lngLat.lat),e.rectangle.updateCoordinate("0.1",i.lngLat.lng,i.lngLat.lat)}}};f.onMouseUp=f.onClick,f.onMouseDown=f.onClick,f.onTouchStart=f.onClick,f.onTouchEnd=function(t,e){t.startPoint&&t.startPoint[0]!==e.lngLat.lng&&t.startPoint[1]!==e.lngLat.lat?(f.onMouseMove(t,e),this.updateUIClasses({mouse:"pointer"}),t.endPoint=[e.lngLat.lng,e.lngLat.lat],this.changeMode(l.SIMPLE_SELECT,{featureIds:[t.rectangle.id]})):f.onClick(t,e)},f.onTap=function(t,e){t.startPoint||this.onClick(t,e)},f.onMouseMove=function(e,i){if(e.dragMoving=!0,r(i)&&this.updateUIClasses({mouse:t.POINTER}),e.startPoint?(e.rectangle.updateCoordinate("0.1",i.lngLat.lng,e.startPoint[1]),e.rectangle.updateCoordinate("0.2",i.lngLat.lng,i.lngLat.lat),e.rectangle.updateCoordinate("0.3",e.startPoint[0],i.lngLat.lat),e.rectangle.updateCoordinate("0.4",e.startPoint[0],e.startPoint[1])):e.rectangle.updateCoordinate("0.0",i.lngLat.lng,i.lngLat.lat),this.inspect){const{valid:t,...i}=this.inspect(e.rectangle)||{};t?(e.isRectangleInvalid=!1,e.rectangle.properties.is_invalid=!1):(e.isRectangleInvalid&&this.callInvalidOnce||this.onInvalid&&this.onInvalid(i),e.isRectangleInvalid=!0,e.rectangle.properties.is_invalid=!0)}},f.onDrag=f.onMouseMove,f.onTouchMove=f.onMouseMove,f.onStop=function(e){this.updateUIClasses({mouse:t.NONE}),g.enable(this),u.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.rectangle.id)&&(e.rectangle.removeCoordinate("0.5"),e.rectangle.isValid()?this.map.fire(n.CREATE,{features:[e.rectangle.toGeoJSON()]}):(this.deleteFeature([e.rectangle.id],{silent:!0}),this.changeMode(l.SIMPLE_SELECT,{},{silent:!0})))},f.onKeyUp=function(t,e){c(e)&&(this.stopOnEscape?(this.deleteFeature([t.rectangle.id],{silent:!0}),this.changeMode(l.SIMPLE_SELECT)):s(e)&&this.changeMode(l.SIMPLE_SELECT,{featureIds:[t.rectangle.id]}))},f.onTrash=function(t){this.deleteFeature([t.rectangle.id],{silent:!0}),this.changeMode(l.SIMPLE_SELECT)},f.toDisplayFeatures=function(t,e,l){const n=e.properties.id===t.rectangle.id;return e.properties.active=n?o.ACTIVE:o.INACTIVE,n&&(0===e.geometry.coordinates.length||e.geometry.coordinates[0].length<3||(l((r=t.rectangle.id,c=e.geometry.coordinates[0][0],"0.0",!1,{type:i.FEATURE,properties:{meta:a.VERTEX,parent:r,coord_path:"0.0",active:o.INACTIVE},geometry:{type:i.POINT,coordinates:c}})),e.properties.meta=a.FEATURE,!t.startPoint))?void 0:l(e);var r,c};const y=[{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":["case",["!",["to-boolean",["get","user_is_invalid"]]],"#fbb03b","#ff0000"],"fill-opacity":.2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["!",["to-boolean",["get","user_is_invalid"]]],"#fbb03b","#ff0000"],"line-dasharray":[.2,2],"line-width":2}}];function E(t){return d.filter(e=>!t.map(({id:t})=>t).includes(e.id)).concat(t)}const v=E(y);exports.ActivePolygonStyles=y,exports.DrawStyles=v,exports.default=f,exports.overrideDefaultStyles=E;
},{}],"il2D":[function(require,module,exports) {
"use strict";function e(e,r,t){void 0===t&&(t={});var o={type:"Feature"};return(0===t.id||t.id)&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.properties=r||{},o.geometry=e,o}function r(e,r,o){switch(void 0===o&&(o={}),e){case"Point":return t(r).geometry;case"LineString":return s(r).geometry;case"Polygon":return n(r).geometry;case"MultiPoint":return m(r).geometry;case"MultiLineString":return d(r).geometry;case"MultiPolygon":return c(r).geometry;default:throw new Error(e+" is invalid")}}function t(r,t,o){return void 0===o&&(o={}),e({type:"Point",coordinates:r},t,o)}function o(e,r,o){return void 0===o&&(o={}),u(e.map(function(e){return t(e,r)}),o)}function n(r,t,o){void 0===o&&(o={});for(var n=0,i=r;n<i.length;n++){var s=i[n];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:r},t,o)}function i(e,r,t){return void 0===t&&(t={}),u(e.map(function(e){return n(e,r)}),t)}function s(r,t,o){if(void 0===o&&(o={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:r},t,o)}function a(e,r,t){return void 0===t&&(t={}),u(e.map(function(e){return s(e,r)}),t)}function u(e,r){void 0===r&&(r={});var t={type:"FeatureCollection"};return r.id&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.features=e,t}function d(r,t,o){return void 0===o&&(o={}),e({type:"MultiLineString",coordinates:r},t,o)}function m(r,t,o){return void 0===o&&(o={}),e({type:"MultiPoint",coordinates:r},t,o)}function c(r,t,o){return void 0===o&&(o={}),e({type:"MultiPolygon",coordinates:r},t,o)}function l(r,t,o){return void 0===o&&(o={}),e({type:"GeometryCollection",geometries:r},t,o)}function h(e,r){if(void 0===r&&(r=0),r&&!(r>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,r||0);return Math.round(e*t)/t}function p(e,r){void 0===r&&(r="kilometers");var t=exports.factors[r];if(!t)throw new Error(r+" units is invalid");return e*t}function f(e,r){void 0===r&&(r="kilometers");var t=exports.factors[r];if(!t)throw new Error(r+" units is invalid");return e/t}function x(e,r){return w(f(e,r))}function g(e){var r=e%360;return r<0&&(r+=360),r}function w(e){return 180*(e%(2*Math.PI))/Math.PI}function b(e){return e%360*Math.PI/180}function v(e,r,t){if(void 0===r&&(r="kilometers"),void 0===t&&(t="kilometers"),!(e>=0))throw new Error("length must be a positive number");return p(f(e,r),t)}function y(e,r,t){if(void 0===r&&(r="meters"),void 0===t&&(t="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=exports.areaFactors[r];if(!o)throw new Error("invalid original units");var n=exports.areaFactors[t];if(!n)throw new Error("invalid final units");return e/o*n}function E(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)&&!/^\s*$/.test(e)}function R(e){return!!e&&e.constructor===Object}function P(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!E(e))throw new Error("bbox must only contain numbers")})}function T(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function M(){throw new Error("method has been renamed to `radiansToDegrees`")}function k(){throw new Error("method has been renamed to `degreesToRadians`")}function A(){throw new Error("method has been renamed to `lengthToDegrees`")}function L(){throw new Error("method has been renamed to `lengthToRadians`")}function D(){throw new Error("method has been renamed to `radiansToLength`")}function F(){throw new Error("method has been renamed to `bearingToAzimuth`")}function S(){throw new Error("method has been renamed to `convertLength`")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.earthRadius=6371008.8,exports.factors={centimeters:100*exports.earthRadius,centimetres:100*exports.earthRadius,degrees:exports.earthRadius/111325,feet:3.28084*exports.earthRadius,inches:39.37*exports.earthRadius,kilometers:exports.earthRadius/1e3,kilometres:exports.earthRadius/1e3,meters:exports.earthRadius,metres:exports.earthRadius,miles:exports.earthRadius/1609.344,millimeters:1e3*exports.earthRadius,millimetres:1e3*exports.earthRadius,nauticalmiles:exports.earthRadius/1852,radians:1,yards:exports.earthRadius/1.0936},exports.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/exports.earthRadius,yards:1/1.0936},exports.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},exports.feature=e,exports.geometry=r,exports.point=t,exports.points=o,exports.polygon=n,exports.polygons=i,exports.lineString=s,exports.lineStrings=a,exports.featureCollection=u,exports.multiLineString=d,exports.multiPoint=m,exports.multiPolygon=c,exports.geometryCollection=l,exports.round=h,exports.radiansToLength=p,exports.lengthToRadians=f,exports.lengthToDegrees=x,exports.bearingToAzimuth=g,exports.radiansToDegrees=w,exports.degreesToRadians=b,exports.convertLength=v,exports.convertArea=y,exports.isNumber=E,exports.isObject=R,exports.validateBBox=P,exports.validateId=T,exports.radians2degrees=M,exports.degrees2radians=k,exports.distanceToDegrees=A,exports.distanceToRadians=L,exports.radiansToDistance=D,exports.bearingToAngle=F,exports.convertDistance=S;
},{}],"MNcG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@turf/helpers");function t(e,r,n){if(null!==e)for(var o,i,a,u,l,s,c,g,f=0,p=0,h=e.type,y="FeatureCollection"===h,d="Feature"===h,v=y?e.features.length:1,P=0;P<v;P++){l=(g=!!(c=y?e.features[P].geometry:d?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<l;m++){var w=0,x=0;if(null!==(u=g?c.geometries[m]:c)){s=u.coordinates;var b=u.type;switch(f=!n||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":if(!1===r(s,p,P,w,x))return!1;p++,w++;break;case"LineString":case"MultiPoint":for(o=0;o<s.length;o++){if(!1===r(s[o],p,P,w,x))return!1;p++,"MultiPoint"===b&&w++}"LineString"===b&&w++;break;case"Polygon":case"MultiLineString":for(o=0;o<s.length;o++){for(i=0;i<s[o].length-f;i++){if(!1===r(s[o][i],p,P,w,x))return!1;p++}"MultiLineString"===b&&w++,"Polygon"===b&&x++}"Polygon"===b&&w++;break;case"MultiPolygon":for(o=0;o<s.length;o++){for(x=0,i=0;i<s[o].length;i++){for(a=0;a<s[o][i].length-f;a++){if(!1===r(s[o][i][a],p,P,w,x))return!1;p++}x++}w++}break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(!1===t(u.geometries[o],r,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(e,r,n,o){var i=n;return t(e,function(e,t,o,a,u){i=0===t&&void 0===n?e:r(i,e,t,o,a,u)},o),i}function n(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function o(e,t,r){var o=r;return n(e,function(e,n){o=0===n&&void 0===r?e:t(o,e,n)}),o}function i(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function a(e,t,r){var n=r;return i(e,function(e,o){n=0===o&&void 0===r?e:t(n,e,o)}),n}function u(e){var r=[];return t(e,function(e){r.push(e)}),r}function l(e,t){var r,n,o,i,a,u,l,s,c,g,f=0,p="FeatureCollection"===e.type,h="Feature"===e.type,y=p?e.features.length:1;for(r=0;r<y;r++){for(u=p?e.features[r].geometry:h?e.geometry:e,s=p?e.features[r].properties:h?e.properties:{},c=p?e.features[r].bbox:h?e.bbox:void 0,g=p?e.features[r].id:h?e.id:void 0,a=(l=!!u&&"GeometryCollection"===u.type)?u.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?u.geometries[o]:u))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,s,c,g))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],f,s,c,g))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,s,c,g))return!1;f++}}function s(e,t,r){var n=r;return l(e,function(e,o,i,a,u){n=0===o&&void 0===r?e:t(n,e,o,i,a,u)}),n}function c(t,r){l(t,function(t,n,o,i,a){var u,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==r(e.feature(t,o,{bbox:i,id:a}),n,0)&&void 0}switch(l){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon"}for(var s=0;s<t.coordinates.length;s++){var c={type:u,coordinates:t.coordinates[s]};if(!1===r(e.feature(c,o),n,s))return!1}})}function g(e,t,r){var n=r;return c(e,function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)}),n}function f(r,n){c(r,function(r,o,i){var a=0;if(r.geometry){var u=r.geometry.type;if("Point"!==u&&"MultiPoint"!==u){var l,s=0,c=0,g=0;return!1!==t(r,function(t,u,f,p,h){if(void 0===l||o>s||p>c||h>g)return l=t,s=o,c=p,g=h,void(a=0);var y=e.lineString([l,t],r.properties);if(!1===n(y,o,i,h,a))return!1;a++,l=t})&&void 0}}})}function p(e,t,r){var n=r,o=!1;return f(e,function(e,i,a,u,l){n=!1===o&&void 0===r?e:t(n,e,i,a,u,l),o=!0}),n}function h(t,r){if(!t)throw new Error("geojson is required");c(t,function(t,n,o){if(null!==t.geometry){var i=t.geometry.type,a=t.geometry.coordinates;switch(i){case"LineString":if(!1===r(t,n,o,0,0))return!1;break;case"Polygon":for(var u=0;u<a.length;u++)if(!1===r(e.lineString(a[u],t.properties),n,o,u))return!1}}})}function y(e,t,r){var n=r;return h(e,function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)}),n}function d(t,r){if(r=r||{},!e.isObject(r))throw new Error("options is invalid");var n,o=r.featureIndex||0,i=r.multiFeatureIndex||0,a=r.geometryIndex||0,u=r.segmentIndex||0,l=r.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),l=l||t.features[o].properties,n=t.features[o].geometry;break;case"Feature":l=l||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var s=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return u<0&&(u=s.length+u-1),e.lineString([s[u],s[u+1]],l,r);case"Polygon":return a<0&&(a=s.length+a),u<0&&(u=s[a].length+u-1),e.lineString([s[a][u],s[a][u+1]],l,r);case"MultiLineString":return i<0&&(i=s.length+i),u<0&&(u=s[i].length+u-1),e.lineString([s[i][u],s[i][u+1]],l,r);case"MultiPolygon":return i<0&&(i=s.length+i),a<0&&(a=s[i].length+a),u<0&&(u=s[i][a].length-u-1),e.lineString([s[i][a][u],s[i][a][u+1]],l,r)}throw new Error("geojson is invalid")}function v(t,r){if(r=r||{},!e.isObject(r))throw new Error("options is invalid");var n,o=r.featureIndex||0,i=r.multiFeatureIndex||0,a=r.geometryIndex||0,u=r.coordIndex||0,l=r.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),l=l||t.features[o].properties,n=t.features[o].geometry;break;case"Feature":l=l||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var s=n.coordinates;switch(n.type){case"Point":return e.point(s,l,r);case"MultiPoint":return i<0&&(i=s.length+i),e.point(s[i],l,r);case"LineString":return u<0&&(u=s.length+u),e.point(s[u],l,r);case"Polygon":return a<0&&(a=s.length+a),u<0&&(u=s[a].length+u),e.point(s[a][u],l,r);case"MultiLineString":return i<0&&(i=s.length+i),u<0&&(u=s[i].length+u),e.point(s[i][u],l,r);case"MultiPolygon":return i<0&&(i=s.length+i),a<0&&(a=s[i].length+a),u<0&&(u=s[i][a].length-u),e.point(s[i][a][u],l,r)}throw new Error("geojson is invalid")}exports.coordEach=t,exports.coordReduce=r,exports.propEach=n,exports.propReduce=o,exports.featureEach=i,exports.featureReduce=a,exports.coordAll=u,exports.geomEach=l,exports.geomReduce=s,exports.flattenEach=c,exports.flattenReduce=g,exports.segmentEach=f,exports.segmentReduce=p,exports.lineEach=h,exports.lineReduce=y,exports.findSegment=d,exports.findPoint=v;
},{"@turf/helpers":"il2D"}],"wuGI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@turf/meta"),e=6378137;function r(e){return t.geomReduce(e,function(t,e){return t+n(e)},0)}function n(t){var e,r=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)r+=o(t.coordinates[e]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(i(t[0]));for(var r=1;r<t.length;r++)e-=Math.abs(i(t[r]))}return e}function i(t){var r,n,o,i,a,c,s=0,f=t.length;if(f>2){for(c=0;c<f;c++)c===f-2?(o=f-2,i=f-1,a=0):c===f-1?(o=f-1,i=0,a=1):(o=c,i=c+1,a=c+2),r=t[o],n=t[i],s+=(u(t[a][0])-u(r[0]))*Math.sin(u(n[1]));s=s*e*e/2}return s}function u(t){return t*Math.PI/180}exports.default=r;
},{"@turf/meta":"MNcG"}],"Focm":[function(require,module,exports) {
"use strict";var e=o(require("@mapbox/mapbox-gl-draw")),t=a(require("mapbox-gl-draw-rectangle-validation-mode")),r=o(require("@turf/area"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function o(e){return e&&e.__esModule?e:{default:e}}var l={version:8,sources:{osm:{type:"raster",tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"osm",source:"osm",type:"raster"}]},c=new mapboxgl.Map({container:"map",style:l,center:[-91.874,42.76],zoom:12}),i=new e.default({userProperties:!0,displayControlsDefault:!1,styles:t.DrawStyles,modes:Object.assign(e.default.modes,{draw_rectangle:t.default})});c.addControl(i);var s=document.getElementById("area");function u(e){s.textContent="".concat((e/1e6).toFixed(2))}s.textContent="0",document.getElementById("draw-rectangle").addEventListener("click",function(){console.log("let's draw!"),i.changeMode("draw_rectangle",{inspect:function(e){var t=(0,r.default)(e);return{valid:t<5e6,area:t}},allowCreateInvalid:!1,callInvalidOnce:!1,onInvalid:function(e){var t=e.area;return console.log("area exceeded! ".concat(t))},stopOnEscape:!0})});
},{"@mapbox/mapbox-gl-draw":"Y7aM","mapbox-gl-draw-rectangle-validation-mode":"kT0B","@turf/area":"wuGI"}]},{},["Focm"], null)
//# sourceMappingURL=example.8091f2a7.js.map